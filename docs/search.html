<!DOCTYPE html>
<html lang="en" prefix="og: https://ogp.me/ns#" data-bs-theme="auto">

<head>
    <title>Search</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" sizes="180x180" href="pwa/apple-touch-icon.png">
    <link rel="manifest" href="manifest.json">
    <link href="bootstrap.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="prism.css" type="text/css">
    <link rel="stylesheet" href="style.css" type="text/css">
    <script src="prism.js" type="text/javascript"></script>
    <script src="script.js" type="text/javascript"></script>

    <!--OpenGraph meta-->
    <meta property="og:url" content="https://webmaster442.github.io/ultimatedotnetcheatsheet/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Search">
    <meta property="og:locale" content="en_US">
    <meta property="og:image" content="https://webmaster442.github.io/ultimatedotnetcheatsheet/header.webp">
    <meta property="og:image:type" content="image/webp" />
    <meta property="og:image:width" content="945" />
    <meta property="og:image:height" content="1134" />
    <meta property="og:description"
        content="Welcome to the Ultimate .NET Cheatsheet! This project aims to provide a comprehensive and useful guide for developers working with C# on a daily basis. Whether you're a beginner getting started with C# or an experienced developer looking for quick references, this cheatsheet has got you covered.">
</head>

<body>
    <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
        <symbol id="check2" viewBox="0 0 16 16">
            <path
                d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z" />
        </symbol>
        <symbol id="circle-half" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
        </symbol>
        <symbol id="moon-stars-fill" viewBox="0 0 16 16">
            <path
                d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z" />
            <path
                d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z" />
        </symbol>
        <symbol id="sun-fill" viewBox="0 0 16 16">
            <path
                d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z" />
        </symbol>
        <symbol id="github" viewBox="0 0 24 24">
            <path
                d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z" />
        </symbol>
    </svg>

    <nav id="nav" class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                <img src="pwa/i-192.png" height="40px"> version: 24-09-16</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mynavbar">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="mynavbar">
                <ul class="navbar-nav me-auto">
                    <div id="toclinks">
                        <ul><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/010-basiccommands.html">Dotnet CLI</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/020-project.html">Project XML Settings</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/030-powershell.html">Usefull Powershell commands & scripts</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/035-csharpbasics.html">C# basics</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/040-types.html">Basic type system</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/045-type-interfaces.html">Important interfaces for types</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/060-strings.html">Strings</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/070-exceptions.html">Exceptions</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/075-generics.html">Generics</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/080-collections.html">Collections</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/090-linq.html">LINQ</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/100-paternmatch.html">Pattern matching</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/105-tasks.html">Tasks</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/110-io.html">I/O</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/111-attribs.html">Attributes</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/112-serialization.html">Serialization</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/114-validation.html">Object validation</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/120-crypto.html">Cryptography</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/130-reflection.html">Reflection</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/140-ui.html">UI</a></li><li><a href="https://webmaster442.github.io/ultimatedotnetcheatsheet/150-nuget.html">Useful NuGet packages</a></li></ul>
                    </div>
                </ul>
                <div class="d-flex">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a href="https://github.com/webmaster442/ultimatedotnetcheatsheet" target="_blank"
                                title="Fork me on github">
                                <svg>
                                    <use href="#github"></use>
                                </svg>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>


    <div id="main" class="container-fluid" style="margin-top:150px">
        <div class="row">
            <div class="col-xl-10 text-justify" id="content">
                <div id="searchcontents" class="nodisplay"><div title="Dotnet CLI" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/010-basiccommands.html"><h1>Dotnet basic commands</h1> <ul> <li>Check .NET version: <code>dotnet --version</code></li> <li>List installed .NET SDKs: <code>dotnet --list-sdks</code></li> <li>Show up-to-date status of installed .NET SDKs and .NET Runtimes: <code>dotnet sdk check</code></li> </ul> <h2>New</h2> <ul> <li>Create new gitignore file in current dir: <code>dotnet new gitignore</code></li> <li>Create new editorconfig file in current dir: <code>dotnet new editorconfig</code></li> <li>Create new solution with name: <code>dotnet new sln -n &quot;Name of solution&quot;</code></li> <li>Create new class libary: <code>dotnet new classlib -n &quot;Name of lib&quot;</code></li> <li>Create new console app: <code>dotnet new console -n &quot;Program name&quot;</code></li> <li>Create new nunit test project: <code>dotnet new nunit -n &quot;test project name&quot;</code></li> <li>Create new xunit test project: <code>dotnet new xunit -n &quot;test project name&quot;</code></li> </ul> <h2>Solution management</h2> <ul> <li>List projects in solution: <code>dotnet sln [solution.sln] list </code></li> <li>Add project to solution: <code>dotnet sln [solution.sln] add [project.csproj]</code></li> <li>Remove project from solution: <code>dotnet sln [solution.sln] remove [project.csproj]</code></li> </ul> <p>Note: solution file name can be ignored if folder only contains one <code>.sln</code> file.</p> <h2>Package management</h2> <ul> <li>List package references for project: <code>dotnet list [project.csproj] package</code></li> <li>List package references for solution: <code>dotnet list [solution.sln] package</code></li> <li>Add or update a package reference: <code>dotnet add [project.csproj] package [packagename]</code></li> <li>Remove a package reference: <code>dotnet remove [project.csproj] package [packagename]</code></li> <li>Restore package dependencies of project: <code>dotnet restore [project.csproj]</code></li> <li>Restore package dependencies of solution: <code>dotnet restore [solution.sln]</code></li> <li>Pack current project to nuget package: <code>dotnet pack [project.csproj]</code></li> </ul> <h2>Build &amp; Run</h2> <ul> <li>Build solution in debug mode: <code>dotnet build [solution.sln] -c DEBUG</code></li> <li>Build solution in release mode: <code>dotnet build [solution.sln] -c RELEASE</code></li> <li>Build project in debug mode: <code>dotnet build [project.csproj] -c DEBUG</code></li> <li>Build project in release mode: <code>dotnet build [project.csproj] -c RELEASE</code></li> <li>Clean output of a project: <code>dotnet clean [project.csproj]</code></li> <li>Clean output of a solution: <code>dotnet clean [solution.sln]</code></li> <li>Run a compiled assembly: <code>dotnet run [assembly.dll]</code></li> <li>Run tests: <code>dotnet test [testproject.csproj]</code> or <code>dotnet test [solution.sln]</code></li> </ul> <h2>Tool management</h2> <ul> <li>Install a tool: <code>dotnet tool install [tool Name]</code></li> <li>Install a tool globaly: <code>dotnet tool install -g [tool Name]</code></li> <li>List installed tools: <code>dotnet tool list</code></li> <li>List globaly installed tools: <code>dotnet tool list -g</code></li> <li>Remove a tool: <code>dotnet tool uninstall [tool Name]</code></li> <li>Remove a globaly installed tool: <code>dotnet tool uninstall -g [tool Name]</code></li> <li>Update a tool: <code>dotnet tool update [tool Name]</code></li> <li>Update a globaly installed tool: <code>dotnet tool update -g [tool Name]</code></li> </ul> <p>Globally means that the tool is installed to the users profile, instead of the current project/solution.</p> <h2>NuGet</h2> <ul> <li>Display all cache directories: <code>dotnet nuget locals all --list</code></li> <li>Clear all files from all local cache directories: <code>dotnet nuget locals all --clear</code></li> <li>Push a package to the NuGet repository: <code>dotnet nuget push [package.nupkg] -k [api key]</code></li> <li>Push a package to a custom NuGet feed: <code>dotnet nuget push [package.nupkg] -k [api key] -s [feed url]</code></li> <li>Push all .nupkg files in the current directory to a local feed directory: <code>dotnet nuget push &quot;*.nupkg&quot; -s [feed directory]</code></li> <li>List all configured NuGet sources: <code>dotnet nuget list source [source name]</code></li> <li>Remove a NuGet source: <code>dotnet nuget remove source</code></li> <li>Add a NuGet source: <code>dotnet nuget add source [url or local path] -n [source name]</code></li> <li>Update a NuGet source: <code>dotnet nuget update source [source name]</code></li> </ul> <h2>Formating</h2> <ul> <li>Create a new editorconfig file: <code>dotnet new editorconfig</code></li> <li>Format all code in the solution or a project: <code>dotnet format [solution.sln or project.csproj]</code></li> <li>Verify that all code is correctly formatted: <code>dotnet format --verify-no-changes</code></li> </ul> <h2>Workloads</h2> <ul> <li>List all available workloads: <code>dotnet workload search</code></li> <li>Install an optional workload: <code>dotnet workload install [workload id]</code></li> <li>Uninstall a workload: <code>dotnet workload uninstall [workload id]</code></li> <li>List installed workloads: <code>dotnet workload list</code></li> <li>Repair workload installations: <code>dotnet workload repair</code></li> <li>Update installed workloads: <code>dotnet workload update</code></li> <li>Install workload needed for a project or a solution: <code>dotnet workload restore [soluton.sln or project.csproj]</code></li> </ul> <h2>Tools</h2> <ul> <li>Install a tool: <code>dotnet tool install --global [tool name]</code></li> <li>Uninstall a tool: <code>dotnet tool uninstall --global [tool name]</code></li> <li>Lists all tools that are currently installed: <code>dotnet tool list --global</code></li> <li>Searches all .NET tools that are published to NuGet: <code>dotnet tool search [tool name]</code></li> </ul> <p>Global tools are installed in <code>$HOME/.dotnet/tools</code> on Linux and macOS. On Windows they are installed in the <code>%USERPROFILE%\.dotnet\tools</code> folder. Instead of the <code>--global</code> switch use the <code>--tool-path [folder]</code> to install the tool to a custom directory. If no <code>--global</code> or <code>--tool-path</code> is specified, then the tool is installed to the current C# project.</p> <h2>Useful tools</h2> <ul> <li><p><strong>dotnet-ef</strong></p> <p>The command-line interface (CLI) tools for Entity Framework Core perform design-time development tasks. For example, they create migrations, apply migrations, and generate code for a model based on an existing database. The commands are an extension to the cross-platform dotnet command, which is part of the .NET Core SDK. These tools work with .NET Core projects.</p> <p>Install with: <code>dotnet tool install --global dotnet-ef</code></p> <p>More info: https://learn.microsoft.com/en-us/ef/core/cli/dotnet</p> </li> <li><p><strong>csharprepl</strong></p> <p>A cross-platform command line REPL for the rapid experimentation and exploration of C#. It supports IntelliSense, installing NuGet packages, and referencing local .NET projects and assemblies.</p> <p>Install with: <code>dotnet tool install -g csharprepl</code></p> <p>More info: https://github.com/waf/CSharpRepl</p> </li> <li><p><strong>IronPython</strong></p> <p>IronPython is an open-source implementation of the Python programming language that is tightly integrated with .NET. IronPython can use .NET and Python libraries, and other .NET languages can use Python code just as easily.</p> <p>Install with: <code>dotnet tool install -g IronPython.Console</code></p> <p>More info: https://ironpython.net/</p> </li> <li><p><strong>dotnet-format</strong></p> <p>Dotnet-format is a code formatter for dotnet that applies style preferences to a project or solution. Preferences will be read from an <code>.editorconfig</code> file, if present, otherwise a default set of preferences will be used.</p> <p>Install with: <code>dotnet tool install -g dotnet-format</code></p> <p>More info: https://github.com/dotnet/format</p> </li> <li><p><strong>.NET Upgrade Assistant</strong></p> <p>The .NET Upgrade Assistant is a Visual Studio extension and command-line tool that's designed to assist with upgrading apps to the latest version of .NET.</p> <p>Install with: <code>dotnet tool install -g upgrade-assistant</code></p> <p>More info: https://dotnet.microsoft.com/en-us/platform/upgrade-assistant</p> </li> <li><p><strong>SlnGen</strong></p> <p>SlnGen is a Visual Studio solution file generator. Visual Studio solutions generally do not scale well for large project trees. They are scoped views of a set of projects. Enterprise-level builds use custom logic like traversal to convey how they should be built by a hosted build environment. Maintaining Visual Studio solutions becomes hard because you have to keep them in sync with the other build logic. Instead, SlnGen reads the project references of a given project to create a Visual Studio solution on demand. For example, you can run it against a unit test project and be presented with a Visual Studio solution containing the unit test project and all of its project references.</p> <p>Install with: <code>dotnet tool install --global Microsoft.VisualStudio.SlnGen.Tool --add-source https://api.nuget.org/v3/index.json --ignore-failed-sources</code></p> <p>More info: https://github.com/microsoft/slngen</p> </li> <li><p><strong>Roslynator Cli</strong></p> <p>Roslynator is a set of code analysis tools for C#, powered by Roslyn.</p> <p>Install with: <code>dotnet tool install -g roslynator.dotnet.cli</code></p> <p>More info: https://josefpihrt.github.io/docs/roslynator/cli</p> </li> </ul> </div>
<div title="Project XML Settings" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/020-project.html"><h1>Project file XML settings</h1> <ul> <li><p>Enable implicit usings:</p> <pre><code class="language-xml">&lt;PropertyGroup&gt; &lt;ImplicitUsings&gt;enable&lt;/ImplicitUsings&gt; &lt;/PropertyGroup&gt; </code></pre> </li> <li><p>Enable nullable reference types</p> <pre><code class="language-xml">&lt;PropertyGroup&gt; &lt;Nullable&gt;enable&lt;/Nullable&gt; &lt;/PropertyGroup&gt; </code></pre> </li> <li><p>Set internals visible to an other project</p> <pre><code class="language-xml"> &lt;ItemGroup&gt; &lt;InternalsVisibleTo Include=&quot;ProjectName&quot;/&gt; &lt;/ItemGroup&gt; </code></pre> </li> <li><p>Do not append target framework to output path</p> <pre><code class="language-xml">&lt;PropertyGroup&gt; &lt;AppendTargetFrameworkToOutputPath&gt;false&lt;/AppendTargetFrameworkToOutputPath&gt; &lt;/PropertyGroup&gt; </code></pre> </li> <li><p>Set Assembly version based on build date (year.month.date)</p> <pre><code class="language-xml">&lt;PropertyGroup&gt; &lt;Version&gt; $([System.DateTime]::UtcNow.ToString(&quot;yyyy&quot;)).$([System.DateTime]::UtcNow.ToString(&quot;MM&quot;)) .$([System.DateTime]::UtcNow.ToString(&quot;dd&quot;)).0 &lt;/Version&gt; &lt;AssemblyVersion&gt; $([System.DateTime]::UtcNow.ToString(&quot;yyyy&quot;)).$([System.DateTime]::UtcNow.ToString(&quot;MM&quot;)) .$([System.DateTime]::UtcNow.ToString(&quot;dd&quot;)).0 &lt;/AssemblyVersion&gt; &lt;FileVersion&gt; $([System.DateTime]::UtcNow.ToString(&quot;yyyy&quot;)).$([System.DateTime]::UtcNow.ToString(&quot;MM&quot;)) .$([System.DateTime]::UtcNow.ToString(&quot;dd&quot;)).0 &lt;/FileVersion&gt; &lt;/PropertyGroup&gt; </code></pre> </li> <li><p>Disable Source Link Source Revision including in Assembly info:</p> <pre><code class="language-xml">&lt;PropertyGroup&gt; &lt;IncludeSourceRevisionInInformationalVersion&gt;false&lt;/IncludeSourceRevisionInInformationalVersion&gt; &lt;/PropertyGroup&gt; </code></pre> </li> <li><p>Allow Unsafe code:</p> <pre><code class="language-xml">&lt;PropertyGroup&gt; &lt;AllowUnsafeBlocks&gt;True&lt;/AllowUnsafeBlocks&gt; &lt;/PropertyGroup&gt; </code></pre> </li> </ul> </div>
<div title="Usefull Powershell commands & scripts" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/030-powershell.html"><h1>Usefull Powershell commands &amp; scripts</h1> <ul> <li><p>Enable long path support (Windows 10 version 1607 or later)</p> <pre><code class="language-powershell">New-ItemProperty -Path &quot;HKLM:\SYSTEM\CurrentControlSet\Control\FileSystem&quot; ` -Name &quot;LongPathsEnabled&quot; -Value 1 -PropertyType DWORD -Force </code></pre> </li> <li><p>Delete bin and obj directories produced by build</p> <pre><code class="language-powershell">function RemoveBinObj { $directories = Get-ChildItem -Directory -Recurse | Where-Object { $_.Name -eq &quot;bin&quot; -or $_.Name -eq &quot;obj&quot; } foreach ($directory in $directories) { Write-Host &quot;Deleting $($directory.FullName)&quot; -ForegroundColor Yellow Remove-Item $directory.FullName -Recurse -Force } Write-Host &quot;Cleanup complete!&quot; -ForegroundColor Green } RemoveBinObj </code></pre> </li> <li><p>Render markdown to a html file (Works on Powershell Core &gt; 7)</p> <pre><code class="language-powershell"> function Convert-MarkdownToHtml { param ( [Parameter(Mandatory = $true)] [string]$input, [Parameter(Mandatory = $true)] [string]$output ) $markdownContent = Get-Content -Path $input -Raw $htmlContent = $markdownContent | ConvertFrom-Markdown $htmlContent | Out-File -FilePath $output -Encoding utf8 } Convert-MarkdownToHtml -input &quot;input.md&quot; -output &quot;out.html&quot; </code></pre> </li> </ul> </div>
<div title="C# basics" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/035-csharpbasics.html"><h1>C# basics</h1> <h2>Operator Precedence</h2> <ol> <li><p>Primary:</p> <p><code>x.y</code>, <code>f(x)</code>, <code>a[i]</code>, <code>x?.y</code>, <code>x?[y]</code>, <code>x++</code>, <code>x--</code>, <code>x!</code>, <code>new</code>, <code>typeof</code>, <code>checked</code>, <code>unchecked</code>, <code>default</code>, <code>nameof</code>, <code>delegate</code>, <code>sizeof</code>, <code>stackalloc</code>, <code>x-&gt;y</code></p> </li> <li><p>Unary: <code>+x, -x, !x, ~x, ++x, --x, ^x, (T)x, await, &amp;x, *x, true and false</code></p> </li> <li><p>Range: <code>x..y</code></p> </li> <li><p>Switch and with expressions: <code>switch, with</code></p> </li> <li><p>Multiplicative: <code>x * y, x / y, x % y</code></p> </li> <li><p>Additive: <code>x + y</code>, <code>x – y</code></p> </li> <li><p>Shift: <code>x &lt;&lt; y</code>, <code>x &gt;&gt; y</code>, <code>x &gt;&gt;&gt; y</code></p> </li> <li><p>Relational and type-testing: <code>x &lt; y</code>, <code>x &gt; y</code>, <code>x &lt;= y</code>, <code>x &gt;= y</code>, <code>is</code>, <code>as</code></p> </li> <li><p>Equality: <code>x == y</code>, <code>x != y</code></p> </li> <li><p>Boolean logical AND or bitwise logical AND: x &amp; y`</p> </li> <li><p>Boolean logical XOR or bitwise logical XOR: <code>x ^ y</code></p> </li> <li><p>Boolean logical OR or bitwise logical OR: <code>x | y</code></p> </li> <li><p>Conditional AND: <code>x &amp;&amp; y</code></p> </li> <li><p>Conditional OR: <code>x || y</code></p> </li> <li><p>Null-coalescing operator: <code>x ?? y</code></p> </li> <li><p>Conditional operator: <code>c ? t : f</code></p> </li> <li><p>Assignment and lambda declaration:</p> <p><code>x = y</code>, <code>x += y</code>, <code>x -= y</code>, <code>x *= y</code>, <code>x /= y</code>, <code>x %= y</code>, <code>x &amp;= y</code>, <code>x |= y</code>, <code>x ^= y</code>, <code>x &lt;&lt;= y</code>, <code>x &gt;&gt;= y</code>, <code>x &gt;&gt;&gt;= y</code>, <code>x ??= y</code>, <code>=&gt;</code></p> </li> </ol> <p>More info: https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/</p> <h2>Keywords</h2> <p>Keywords are predefined, reserved identifiers that have special meanings to the compiler. They can't be used as identifiers in your program unless they include <code>@</code> as a prefix. For example, <code>@if</code> is a valid identifier, but <code>if</code> isn't because <code>if</code> is a keyword.</p> <p>| A-E | E-L | N-S | S-W | | :------: | :-------: | :--------: | :-------: | | abstract | event | namespace | static | | as | explicit | new | string | | base | extern | null | struct | | bool | FALSE | object | switch | | break | finally | operator | this | | byte | fixed | out | throw | | case | float | override | TRUE | | catch | for | params | try | | char | foreach | private | typeof | | checked | goto | protected | uint | | class | if | public | ulong | | const | implicit | readonly | unchecked | | continue | in | ref | unsafe | | decimal | int | return | ushort | | default | interface | sbyte | using | | delegate | internal | sealed | virtual | | do | is | short | void | | double | lock | sizeof | volatile | | else | long | stackalloc | while | | enum | | | |</p> <h2>Contextual keywords</h2> <p>A contextual keyword is used to provide a specific meaning in the code, but it isn't a reserved word in C#. Some contextual keywords, such as <code>partial</code> and <code>where</code>, have special meanings in two or more contexts.</p> <p>| A-E | F-N | N-R | R-Y | | :--------: | :-----: | :------------: | :-------: | | add | file | nint | required | | and | from | not | scoped | | alias | get | notnull | select | | ascending | global | nuint | set | | args | group | on | unmanaged | | async | init | or | value | | await | into | orderby | var | | by | join | partial (type) | when | | descending | let | | where | | dynamic | managed | record | with | | equals | nameof | remove | yield |</p> <h2>Basic program Structure</h2> <pre><code class="language-csharp">using System; namespace HelloWorld { class Program { static void Main(string[] args) { Console.WriteLine(&quot;Hello, World!&quot;); } } } </code></pre> <p>With Top level statements (.NET &gt; 5):</p> <pre><code class="language-csharp">Console.WriteLine(&quot;Hello, World!&quot;); </code></pre> <h2>Comments</h2> <pre><code class="language-csharp">// Single-line comment /* This is a multi-line comment */ </code></pre> <h2>Variables and Data Types</h2> <pre><code class="language-csharp">//Variable declaration and initialization int number = 10; double decimalNumber = 10.5; char character = 'A'; string text = &quot;Hello&quot;; bool isTrue = true; // Implicitly typed variable var autoVariable = 100; </code></pre> <h2>Control Structures</h2> <h3>Conditional Statements</h3> <pre><code class="language-csharp">if (condition) { // code to be executed if condition is true } else if (anotherCondition) { // code to be executed if anotherCondition is true } else { // code to be executed if all conditions are false } </code></pre> <h3>Switch</h3> <pre><code class="language-csharp">switch (variable) { case value1: // code to be executed if variable == value1 break; case value2: // code to be executed if variable == value2 break; default: // code to be executed if variable doesn't match any case break; } </code></pre> <h3>Loops</h3> <pre><code class="language-csharp">// For Loop for (int i = 0; i &lt; 10; i++) { // code to be executed } // While Loop while (condition) { // code to be executed } // Do-While Loop do { // code to be executed } while (condition); // Foreach Loop foreach (var item in collection) { // code to be executed } </code></pre> <h2>Methods</h2> <pre><code class="language-csharp">class Program { static void Main(string[] args) { int result = Add(5, 10); Console.WriteLine(result); } static int Add(int a, int b) { return a + b; } } </code></pre> <h2>Classes and Objects</h2> <pre><code class="language-csharp">class Person { // Fields private string name; private int age; // Constructor public Person(string name, int age) { this.name = name; this.age = age; } // Method public void Greet() { Console.WriteLine($&quot;Hello, my name is {name} and I am {age} years old.&quot;); } } // Creating an object Person person = new Person(&quot;John&quot;, 30); person.Greet(); </code></pre> <h3>Access modifiers</h3> <p>| Caller's location | <code>public</code> | <code>protected internal</code> | <code>protected</code> | <code>internal</code> | <code>private protected</code> | <code>private</code> | | :------------------------------------: | :------: | :-------------------: | :---------: | :--------: | :-----------------: | :-------: | | Within the class | √ | √ | √ | √ | √ | √ | | Derived class (same assembly) | √ | √ | √ | √ | √ | X | | Non-derived class (same assembly) | √ | √ | X | √ | X | X | | Derived class (different assembly) | √ | √ | √ | X | X | X | | Non-derived class (different assembly) | √ | X | X | X | X | X |</p> <p>Beginning with C# 11, the <code>file</code> contextual keyword is a type modifier.</p> <p>The <code>file</code> modifier restricts a top-level type's scope and visibility to the file in which it's declared. The <code>file</code> modifier will generally be applied to types written by a source generator. File-local types provide source generators with a convenient way to avoid name collisions among generated types.</p> <h3>Properties</h3> <pre><code class="language-csharp">class Person { public string Name { get; set; } public int Age { get; set; } } </code></pre> <h3>Inheritance</h3> <pre><code class="language-csharp">class Animal { public void Eat() { Console.WriteLine(&quot;Eating...&quot;); } } class Dog : Animal { public void Bark() { Console.WriteLine(&quot;Barking...&quot;); } } Dog dog = new Dog(); dog.Eat(); // Inherited method dog.Bark(); // Dog's method </code></pre> <h3>Polymorphism</h3> <pre><code class="language-csharp">class Animal { public virtual void MakeSound() { Console.WriteLine(&quot;Some generic animal sound&quot;); } } class Dog : Animal { public override void MakeSound() { Console.WriteLine(&quot;Woof!&quot;); } } class Cat : Animal { public override void MakeSound() { Console.WriteLine(&quot;Meow!&quot;); } } Animal myDog = new Dog(); Animal myCat = new Cat(); myDog.MakeSound(); // Output: Woof! myCat.MakeSound(); // Output: Meow! </code></pre> <h3>Interfaces</h3> <pre><code class="language-csharp">interface IAnimal { void MakeSound(); } class Dog : IAnimal { public void MakeSound() { Console.WriteLine(&quot;Woof!&quot;); } } </code></pre> <h3>Generics</h3> <pre><code class="language-csharp">// Generic Class public class GenericList&lt;T&gt; { private T[] items = new T[100]; private int count; public void Add(T item) { items[count++] = item; } public T Get(int index) { return items[index]; } } GenericList&lt;int&gt; intList = new GenericList&lt;int&gt;(); intList.Add(1); intList.Add(2); Console.WriteLine(intList.Get(0)); // Output: 1 GenericList&lt;string&gt; stringList = new GenericList&lt;string&gt;(); stringList.Add(&quot;Hello&quot;); stringList.Add(&quot;World&quot;); Console.WriteLine(stringList.Get(1)); // Output: World // Generic Method public class Utilities { public void Print&lt;T&gt;(T item) { Console.WriteLine(item); } } Utilities utilities = new Utilities(); utilities.Print(123); // Output: 123 utilities.Print(&quot;abc&quot;); // Output: abc </code></pre> <h2>Tupples</h2> <pre><code class="language-csharp">var tuple = new Tuple&lt;int, string, double&gt;(1, &quot;apple&quot;, 3.14); Console.WriteLine(tuple.Item1); // Output: 1 Console.WriteLine(tuple.Item2); // Output: apple Console.WriteLine(tuple.Item3); // Output: 3.14 </code></pre> <h3>Value tupples</h3> <pre><code class="language-csharp">var valueTuple = (1, &quot;apple&quot;, 3.14); Console.WriteLine(valueTuple.Item1); // Output: 1 Console.WriteLine(valueTuple.Item2); // Output: apple Console.WriteLine(valueTuple.Item3); // Output: 3.14 </code></pre> <pre><code class="language-csharp">var valueTuple = (Id: 1, Name: &quot;apple&quot;, Price: 3.14); Console.WriteLine(valueTuple.Id); // Output: 1 Console.WriteLine(valueTuple.Name); // Output: apple Console.WriteLine(valueTuple.Price); // Output: 3.14 </code></pre> <h3>Deconstruct</h3> <pre><code class="language-csharp">var valueTuple = (1, &quot;apple&quot;, 3.14); var (id, name, price) = valueTuple; Console.WriteLine(id); // Output: 1 Console.WriteLine(name); // Output: apple Console.WriteLine(price); // Output: 3.14 </code></pre> <h2>Yield</h2> <pre><code class="language-csharp">public class NumberGenerator { public IEnumerable&lt;int&gt; GetNumbers() { for (int i=0; i&lt;10; i++) { if (i == 5) { yield break; // Exit the method when i equals 5 } yield return i; } } } class Program { static void Main(string[] args) { NumberGenerator generator = new NumberGenerator(); foreach (int number in generator.GetNumbers()) { Console.WriteLine(number); // Output: 0 1 2 3 4 } } } </code></pre> <h2>Delegates</h2> <pre><code class="language-csharp">public delegate void MyDelegate(string message); public class Program { public static void DisplayMessage(string message) { Console.WriteLine(message); } public static void Main(string[] args) { // Creating an instance of the delegate MyDelegate del = new MyDelegate(DisplayMessage); // Calling the delegate del(&quot;Hello, Delegates!&quot;); // Output: Hello, Delegates! } } </code></pre> <h3>Delegate as parameter</h3> <pre><code class="language-csharp">public delegate void MyDelegate(string message); public class Program { public static void DisplayMessage(string message) =&gt; Console.WriteLine(message); public static void ProcessMessage(MyDelegate del, string message) { del(message); } public static void Main(string[] args) { MyDelegate del = new MyDelegate(DisplayMessage); ProcessMessage(del, &quot;Hello, Delegates with Parameters!&quot;); // Output: Hello, Delegates with Parameters! } } </code></pre> <h3>Multicast Delegates</h3> <pre><code class="language-csharp">public delegate void MyDelegate(string message); public class Program { public static void DisplayMessage1(string message) =&gt; Console.WriteLine(&quot;Message1: &quot; + message); public static void DisplayMessage2(string message) =&gt; Console.WriteLine(&quot;Message2: &quot; + message); public static void Main(string[] args) { MyDelegate del1 = new MyDelegate(DisplayMessage1); MyDelegate del2 = new MyDelegate(DisplayMessage2); // Combining delegates MyDelegate del = del1 + del2; del(&quot;Hello, Multicast Delegates!&quot;); // Output: // Message1: Hello, Multicast Delegates! // Message2: Hello, Multicast Delegates! } } </code></pre> <h3>Generic Delegates</h3> <h4>Action</h4> <pre><code class="language-csharp">public class Program { public static void DisplayMessage(string message) =&gt; Console.WriteLine(message); public static void Main(string[] args) { Action&lt;string&gt; messageAction = DisplayMessage; messageAction(&quot;Hello, Action Delegate!&quot;); // Output: Hello, Action Delegate! } } </code></pre> <h4>Func</h4> <pre><code class="language-csharp">public class Program { public static int Add(int x, int y) =&gt; x + y; public static void Main(string[] args) Func&lt;int, int, int&gt; addFunc = Add; int result = addFunc(5, 3); Console.WriteLine(result); // Output: 8 } } </code></pre> <h4>Predicate</h4> <pre><code class="language-csharp">public class Program { public static bool IsPositive(int number) =&gt; number &gt; 0; public static void Main(string[] args) { Predicate&lt;int&gt; isPositivePredicate = IsPositive; bool result = isPositivePredicate(5); Console.WriteLine(result); // Output: True } } </code></pre> <h2>Events</h2> <h3>Declaring an Event</h3> <pre><code class="language-csharp">public class Publisher { // Define the delegate for the event handler public delegate void EventHandler(object sender, EventArgs e); // Declare the event using the delegate public event EventHandler OnNotify; // Method to raise the event protected virtual void RaiseEvent() { if (OnNotify != null) { OnNotify(this, EventArgs.Empty); } } } </code></pre> <h3>Subscribing to an event</h3> <pre><code class="language-csharp">public class Subscriber { public void OnNotified(object sender, EventArgs e) { Console.WriteLine(&quot;Standard event received!&quot;); } } class Program { static void Main(string[] args) { Publisher pub = new Publisher(); Subscriber sub = new Subscriber(); // Subscribe to the event pub.OnNotify += sub.OnNotified; // Raise the event pub.RaiseEvent(); // Output: Standard event received! } } </code></pre> <h3>Creating Custom EventArgs</h3> <pre><code class="language-csharp">public class CustomEventArgs : EventArgs { public string Message { get; set; } public CustomEventArgs(string message) { Message = message; } } public class Publisher { // Define the delegate with custom EventArgs public delegate void CustomEventHandler(object sender, CustomEventArgs e); // Declare the event using the delegate public event CustomEventHandler OnNotify; // Method to raise the event protected virtual void RaiseEvent(string message) { if (OnNotify != null) { OnNotify(this, new CustomEventArgs(message)); } } } </code></pre> </div>
<div title="Basic type system" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/040-types.html"><h1>Basic type system</h1> <h2>Numerical types</h2> <p>| Type | bytes | Bits | Minimum value | Maximum Value | | :-----: | :----: | :------: | :--------------------------------------------------: | :-------------------------------------------------: | | byte | 1 | 8 | 0 | 255 | | sbyte | 1 | 8 | -127 | 127 | | short | 2 | 16 | -32 768 | 32 767 | | ushort | 2 | 16 | 0 | 65 535 | | int | 4 | 32 | -2 147 483 648 | 2 147 483 647 | | uint | 4 | 32 | 0 | 4 294 967 295 | | long | 8 | 64 | -9 223 372 036 854 775 808 | 9 223 372 036 854 775 807 | | ulong | 8 | 64 | 0 | 18 446 744 073 709 551 615 | | Int128 | 16 | 128 | -170 141 183 460 469 231 731 687 303 715 884 105 728 | 170 141 183 460 469 231 731 687 303 715 884 105 727 | | UInt128 | 16 | 128 | 0 | 340 282 366 920 938 463 463 374 607 431 768 211 455 | | nint | 4 or 8 | 32 or 64 | platform dependent signed integer | platform dependent signed integer | | nuint | 4 or 8 | 32 or 64 | platform dependent unsigned integer | platform dependent unsigned integer | | float | 4 | 32 | -3.4028235 x 10<sup>38</sup> | 3.4028235 x 10<sup>38</sup> | | double | 8 | 64 | -1.7976931348623157 x 10<sup>308</sup> | 1.7976931348623157 x 10<sup>308</sup> | | decimal | 16 | 128 | -7.92 x 10 <sup>28</sup> | 7.92 x 10 <sup>28</sup> | | Half | 2 | 16 | -65 504 | 65 504 |</p> <p>Note: <code>nint</code> and <code>nuint</code> represent the platforms native integer type. For 32 bit systems this will be a 32 bit integer, so the limitations and properties of <code>int</code> or <code>uint</code> aplies. On 64 bit systems the limitations and properties of <code>long</code> and <code>ulong</code> applies.</p> <p><strong>Smallest representable number in floating types, that is not zero:</strong></p> <ul> <li><code>decimal</code>: 1.0 x 10<sup>-28</sup></li> <li><code>double</code> : 5.0 x 10<sup>-324</sup></li> <li><code>float</code> : 1.0 x 10<sup>-45</sup></li> <li><code>Half</code>: 6.0 x 10<sup>-8</sup></li> </ul> <h2>Numerical types provided by .NET</h2> <ul> <li><strong>System.Numerics.BigInteger</strong> : Represents an arbitrarily large signed integer.</li> <li><strong>System.Numerics.Complex</strong> : Represents a complex number.</li> <li><strong>System.Numerics.Matrix3x2</strong> : Represents a 3x2 matrix.</li> <li><strong>System.Numerics.Matrix4x4</strong> : Represents a 4x4 matrix.</li> <li><strong>System.Numerics.Plane</strong> : Represents a plane in three-dimensional space.</li> <li><strong>System.Numerics.Quaternion</strong> : Represents a vector that is used to encode three-dimensional physical rotations.</li> <li><strong>System.Numerics.Vector2</strong> : Represents a vector with two single-precision floating-point values.</li> <li><strong>System.Numerics.Vector3</strong> : Represents a vector with three single-precision floating-point values.</li> <li><strong>System.Numerics.Vector4</strong> : Represents a vector with four single-precision floating-point values.</li> </ul> <h2>Base class hierarchy under the hood</h2> <p>^^^ <img src="img/baseclasses.svg" alt="Base classes" /> ^^^ Base classes</p> <h2>Generic Math Interfaces</h2> <p>^^^ <img src="img/genericmath1.svg" alt="Generic Math Interfaces" /> ^^^ Generic Math Interfaces</p> <ul> <li><p><code>IComparable&lt;T&gt;</code></p> <p>Defines a generalized comparison method that a value type or class implements to create a type-specific comparison method for ordering or sorting its instances.</p> </li> <li><p><code>IConvertible</code></p> <p>Defines methods that convert the value of the implementing reference or value type to a common language runtime type that has an equivalent value.</p> </li> <li><p><code>IEquatable&lt;T&gt;</code></p> <p>Defines a generalized method that a value type or class implements to create a type-specific method for determining equality of instances.</p> </li> <li><p><code>IParsable&lt;T&gt;</code></p> <p>Defines a mechanism for parsing a string to a value.</p> </li> <li><p><code>ISpanParsable&lt;T&gt;</code></p> <p>Defines a mechanism for parsing a span of characters to a value.</p> </li> <li><p><code>IAdditionOperators&lt;TSelf,TSelf,TSelf&gt;</code></p> <p>Defines a mechanism for computing the sum of two values. Provides operators: <code>+</code></p> </li> <li><p><code>IBitwiseOperators&lt;TSelf,TSelf,TSelf&gt;</code></p> <p>Defines a mechanism for performing bitwise operations over two values. Provides operators: <code>&amp;</code>, <code>|</code>, <code>^</code>, <code>~</code></p> </li> <li><p><code>IComparisonOperators&lt;TSelf,TSelf,bool&gt;</code></p> <p>Defines a mechanism for comparing two values to determine relative order. Provides operators: <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, <code>&lt;=</code></p> </li> <li><p><code>IDecrementOperators&lt;T&gt;</code></p> <p>Defines a mechanism for decrementing a given value. Provides operators: <code>--</code></p> </li> <li><p><code>IDivisionOperators&lt;TSelf,TSelf,TSelf&gt;</code></p> <p>Defines a mechanism for computing the quotient of two values. Provides operators: <code>/</code></p> </li> <li><p><code>IEqualityOperators&lt;TSelf,TSelf,bool&gt;</code></p> <p>Defines a mechanism for comparing two values to determine equality. Provides operators: <code>==</code>, <code>!=</code></p> </li> <li><p><code>IIncrementOperators&lt;T&gt;</code></p> <p>Defines a mechanism for incrementing a given value. Provides operators: <code>++</code></p> </li> <li><p><code>IModulusOperators&lt;TSelf,TSelf,TSelf&gt;</code></p> <p>Defines a mechanism for computing the modulus or remainder of two values. Provides operators: <code>%</code></p> </li> <li><p><code>IMultiplyOperators&lt;TSelf,TSelf,TSelf&gt;</code></p> <p>Defines a mechanism for computing the product of two values. Provides operators: <code>*</code></p> </li> <li><p><code>IShiftOperators&lt;TSelf,int,TSelf&gt;</code></p> <p>Defines a mechanism for shifting a value by another value. Provides operators: <code>&lt;&lt;</code>, <code>&gt;&gt;</code>, <code>&lt;&lt;&lt;</code></p> </li> <li><p><code>ISubtractionOperators&lt;TSelf,TSelf,TSelf&gt;</code></p> <p>Defines a mechanism for computing the difference of two values. Provides operators: <code>-</code></p> </li> <li><p><code>IUnaryNegationOperators&lt;TSelf,TSelf&gt;</code></p> <p>Defines a mechanism for computing the unary negation of a value. Provides operators: <code>-</code></p> </li> <li><p><code>IUnaryPlusOperators&lt;TSelf,TSelf&gt;</code></p> <p>Defines a mechanism for computing the unary plus of a value. Provides operators: <code>+</code></p> </li> <li><p><code>IAdditiveIdentity&lt;TSelf,TSelf&gt;</code></p> <p>Defines a mechanism for getting the additive identity of a given type.</p> </li> <li><p><code>IMultiplicativeIdentity&lt;TSelf,TSelf&gt;</code></p> <p>Defines a mechanism for getting the multiplicative identity of a given type.</p> </li> <li><p><code>IMinMaxValue&lt;T&gt;</code></p> <p>Defines a mechanism for getting the minimum and maximum value of a type.</p> </li> <li><p><code>IExponentialFunctions&lt;T&gt;</code></p> <p>Defines support for exponential functions.</p> </li> <li><p><code>IFloatingPointConstants&lt;T&gt;</code></p> <p>Defines support for floating-point constants, like <code>E</code>, <code>Pi</code>, <code>Tau</code></p> </li> <li><p><code>IHyperbolicFunctions&lt;T&gt;</code></p> <p>Defines support for hyperbolic functions.</p> </li> <li><p><code>ILogarithmicFunctions&lt;T&gt;</code></p> <p>Defines support for logarithmic functions.</p> </li> <li><p><code>IPowerFunctions&lt;T&gt;</code></p> <p>Defines support for power functions.</p> </li> <li><p><code>IRootFunctions&lt;T&gt;</code></p> <p>Defines support for root functions.</p> </li> <li><p><code>ITrigonometricFunctions&lt;T&gt;</code></p> <p>Defines support for trigonometric functions.</p> </li> </ul> <p>| Interfaces / Types | SByte, Int16, Int32, Int64 | Int128 | Byte, UInt16, UInt32, UInt64 | UInt128 | Half | Single, Double | Decimal | Complex | BigInteger | | :----------------------------------------: | :------------------------: | :----: | :--------------------------: | :-----: | :---: | :------------: | :-----: | :-----: | :--------: | | <code>INumberBase&lt;T&gt;</code> | √ | √ | √ | √ | √ | √ | √ | √ | √ | | <code>INumber&lt;T&gt;</code> | √ | √ | √ | √ | √ | √ | √ | | √ | | <code>ISignedNumber&lt;T&gt;</code> | √ | √ | | | √ | √ | √ | √ | √ | | <code>IUnsignedNumber&lt;Tself&gt;</code> | | | √ | √ | | | | | | | <code>IBinaryNumber&lt;T&gt;</code> | √ | √ | √ | √ | √ | √ | | | √ | | <code>IBinaryInteger&lt;T&gt;</code> | √ | √ | √ | √ | | | | | √ | | <code>IFloatingPoint&lt;T&gt;</code> | | | | | √ | √ | √ | | | | <code>IFloatingPointIeee754&lt;T&gt;</code> | | | | | √ | √ | | | | | <code>IBinaryFloatingPointIeee754&lt;T&gt;</code> | | | | | √ | √ | | | | | <code>IComparable&lt;T&gt;</code> | √ | √ | √ | √ | √ | √ | √ | | √ | | <code>IConvertible</code> | √ | | √ | | | √ | √ | | | | <code>IEquatable&lt;T&gt;</code> | √ | √ | √ | √ | √ | √ | √ | √ | √ | | <code>IParsable&lt;T&gt;</code> | √ | √ | √ | √ | √ | √ | √ | √ | √ | | <code>ISpanParsable&lt;T&gt;</code> | √ | √ | √ | √ | √ | √ | √ | √ | √ | | <code>IAdditionOperators&lt;TSelf,TSelf,TSelf&gt;</code> | √ | √ | √ | √ | √ | √ | √ | √ | √ | | <code>IBitwiseOperators&lt;TSelf,TSelf,TSelf&gt;</code> | √ | √ | √ | √ | √ | √ | | | √ | | <code>IComparisonOperators&lt;TSelf,TSelf,bool&gt;</code> | √ | √ | √ | √ | √ | √ | √ | | √ | | <code>IDecrementOperators&lt;T&gt;</code> | √ | √ | √ | √ | √ | √ | √ | √ | √ | | <code>IDivisionOperators&lt;TSelf,TSelf,TSelf&gt;</code> | √ | √ | √ | √ | √ | √ | √ | √ | √ | | <code>IEqualityOperators&lt;TSelf,TSelf,bool&gt;</code> | √ | √ | √ | √ | √ | √ | √ | √ | √ | | <code>IIncrementOperators&lt;T&gt;</code> | √ | √ | √ | √ | √ | √ | √ | √ | √ | | <code>IModulusOperators&lt;TSelf,TSelf,TSelf&gt;</code> | √ | √ | √ | √ | √ | √ | √ | | √ | | <code>IMultiplyOperators&lt;TSelf,TSelf,TSelf&gt;</code> | √ | √ | √ | √ | √ | √ | √ | √ | √ | | <code>IShiftOperators&lt;TSelf,int,TSelf&gt;</code> | √ | √ | √ | √ | | | | | √ | | <code>ISubtractionOperators&lt;TSelf,TSelf,TSelf&gt;</code> | √ | √ | √ | √ | √ | √ | √ | √ | √ | | <code>IUnaryNegationOperators&lt;TSelf,TSelf&gt;</code> | √ | √ | √ | √ | √ | √ | √ | √ | √ | | <code>IUnaryPlusOperators&lt;TSelf,TSelf&gt;</code> | √ | √ | √ | √ | √ | √ | √ | √ | √ | | <code>IAdditiveIdentity&lt;TSelf,TSelf&gt;</code> | √ | √ | √ | √ | √ | √ | √ | √ | √ | | <code>IMultiplicativeIdentity&lt;TSelf,TSelf&gt;</code> | √ | √ | √ | √ | √ | √ | √ | √ | √ | | <code>IMinMaxValue&lt;T&gt;</code> | √ | √ | √ | √ | √ | √ | √ | | | | <code>IExponentialFunctions&lt;T&gt;</code> | | | | | √ | √ | | | | | <code>IFloatingPointConstants&lt;T&gt;</code> | | | | | √ | √ | √ | | | | <code>IHyperbolicFunctions&lt;T&gt;</code> | | | | | √ | √ | | | | | <code>ILogarithmicFunctions&lt;T&gt;</code> | | | | | √ | √ | | | | | <code>IPowerFunctions&lt;T&gt;</code> | | | | | √ | √ | | | | | <code>IRootFunctions&lt;T&gt;</code> | | | | | √ | √ | | | | | <code>ITrigonometricFunctions&lt;T&gt;</code> | | | | | √ | √ | | | |</p> </div>
<div title="Important interfaces for types" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/045-type-interfaces.html"><h1>Important interfaces for types</h1> <h2>IComparable&lt;T&gt;</h2> <p>Defines a generalized comparison method that a value type or class implements to create a type-specific comparison method for ordering or sorting its instances.</p> <pre><code class="language-csharp">interface IComparable&lt;T&gt; { int CompareTo (T? other); } </code></pre> <p>The CompareTo returns a value that indicates the relative order of the objects being compared. The return value has these meanings:</p> <p>| Value | Meaning | | :---------------- | :---------------------------------------------------------------------- | | Less than zero | This instance precedes other in the <code>sort</code> order. | | Zero | This instance occurs in the same position in the <code>sort</code> order as other. | | Greater than zero | This instance follows other in the sort order. |</p> <h2>IComparer&lt;T&gt;</h2> <p>Defines a method that a type implements to compare two objects.</p> <p>This interface is used with the <code>List&lt;T&gt;.Sort</code> and <code>List&lt;T&gt;.BinarySearch</code> methods. It provides a way to customize the sort order of a collection. Classes that implement this interface include the <code>SortedDictionary&lt;TKey,TValue&gt;</code> and <code>SortedList&lt;TKey,TValue&gt;</code> generic classes.</p> <p>The default implementation of this interface is the <code>Comparer&lt;T&gt;</code> class. The <code>StringComparer</code> class implements this interface for type String.</p> <pre><code class="language-csharp">interface IComparer&lt;T&gt; { int Compare (T? x, T? y); } </code></pre> <p>Return a signed integer that indicates the relative values of x and y, as shown in the following table:</p> <p>| Value | Meaning | | :---------------- | :----------------------- | | Less than zero | <code>x</code> is less than <code>y</code>. | | Zero | <code>x</code> equals <code>y</code>. | | Greater than zero | <code>x</code> is greater than <code>y</code>. |</p> <h2>IEquatable&lt;T&gt;</h2> <p>Defines a generalized method that a value type or class implements to create a type-specific method for determining equality of instances.</p> <pre><code class="language-csharp">interface IEquatable&lt;T&gt; { bool Equals (T? other); } </code></pre> <p>Note: If a type implements the <code>IEquatable&lt;T&gt;</code>, then the type must override the <code>Equals(object? other)</code> and <code>GetHashCode()</code> methods provided also.</p> <h2>EqualityComparer&lt;T&gt;</h2> <p>Defines methods to support the comparison of objects for equality. This interface allows the implementation of customized equality comparison for collections. That is, you can create your own definition of equality for type <code>T</code>, and specify that this definition be used with a collection type that accepts the <code>IEqualityComparer&lt;T&gt;</code> generic interface.</p> <pre><code class="language-csharp">interface IEqualityComparer&lt;T&gt; { bool Equals (T? x, T? y); int GetHashCode (T obj); } </code></pre> <h2>IDisposable &amp; IAsyncDisposable</h2> <p>The <code>IDisposable</code> interface is used to release unmanaged resources like file handles, database connections, network connections, or any resource that is not managed by the .NET runtime.</p> <p>The <code>IDisposable</code> interface is typically implemented when a class holds onto resources that need to be explicitly released or closed to avoid potential resource leaks and do a proper clean-up. By implementing <code>IDisposable</code>, you can provide a mechanism for users of your class to explicitly release those resources when they're done with them, rather than relying on the garbage collector to eventually clean them up.</p> <p>The <code>IAsyncDisposable</code> interface is similar to <code>IDisposable</code>, but it is specifically designed for asynchronous resource clean-up scenarios.</p> <p>If you implement the <code>IAsyncDisposable</code> interface but not the <code>IDisposable</code> interface, your app can potentially leak resources. If a class implements <code>IAsyncDisposable</code>, but not <code>IDisposable</code>, and a consumer only calls <code>Dispose()</code>, your implementation would never call <code>DisposeAsync()</code>. This would result in a resource leak.</p> <p>Implementation example:</p> <pre><code class="language-csharp">public class AsyncDisposable : IAsyncDisposable, IDisposable { //a flag to indicate whether the object has been disposed to prevent multiple dispose calls private bool _disposed; //A disposable field private readonly MemoryStream _field; public AsyncDisposable() { _field = new MemoryStream(); } //IDosposable implementation. Do not change this code. Put cleanup code in the Dispose(bool disposing) method public void Dispose() { Dispose(disposing: true); GC.SuppressFinalize(this); } //IAsyncDisposable implementation. Do not change this code. Put cleanup code in the DisposeAsyncCore method public async ValueTask DisposeAsync() { //Call the overridable DisposeAsyncCore that does the actual work await DisposeAsyncCore().ConfigureAwait(false); //no need to call finalizer, because the resources have been freed by the DisposeAsyncCore method GC.SuppressFinalize(this); } // Async version of Dispose method protected virtual async ValueTask DisposeAsyncCore() { if (!_disposed) { await _field.DisposeAsync().ConfigureAwait(false); } } // Sync version of Dispose method protected virtual void Dispose(bool disposing) { if (!_disposed) { if (disposing) { //Dispose managed state (managed objects) _field.Dispose(); } // TODO: free unmanaged resources (unmanaged objects) and override finalizer // TODO: set large fields to null _disposed = true; } } //TODO: override finalizer only if 'Dispose(bool disposing)' has code to free unmanaged resources // ~AsyncDisposable() // { // // Do not change this code. Put clean-up code in Dispose(bool disposing) method // Dispose(disposing: false); // } } </code></pre> </div>
<div title="Strings" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/060-strings.html"><h1>Strings</h1> <p>More infos:</p> <ul> <li>https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/strings/</li> <li>https://learn.microsoft.com/en-us/dotnet/standard/base-types/standard-numeric-format-strings</li> </ul> <h2>String escape sequences</h2> <p>| Escape sequence | Character name | | :-------------: | :-----------------------------------------------------------------: | | <code>\'</code> | Single quote | | <code>\</code> | Double quote | | <code>\\</code> | Backslash | | <code>\0</code> | Null | | <code>\a</code> | Alert | | <code>\b</code> | Backspace | | <code>\f</code> | Form feed | | <code>\n</code> | New line | | <code>\r</code> | Carriage return | | <code>\t</code> | Horizontal tab | | <code>\v</code> | Vertical tab | | <code>\u</code> | Unicode escape sequence (UTF-16) followed by 4 hex digits | | <code>\U</code> | Unicode escape sequence (UTF-32) followed by 8 hex digits | | <code>\x</code> | Unicode escape sequence similar to &quot;\u&quot; except with variable length |</p> <h2>Numeric format strings</h2> <p>| Format specifier | Name | Supported | Description | | :--------------: | :---------: | :------------------------: | :-------------------------------------------------------------------------------------------------: | | <code>C</code> or <code>c</code> | Currency | All numeric types | Formats value as currency | | <code>D</code> or <code>d</code> | Decimal | Integral types | Integer digits with optional negative sign. | | <code>E</code> or <code>e</code> | Exponential | All numeric types | Exponential notation | | <code>F</code> or <code>f</code> | Fixed-point | All numeric types | Integral and decimal digits with optional negative sign. | | <code>G</code> or <code>g</code> | General | All numeric types | The more compact of either fixed-point or scientific notation. | | <code>N</code> or <code>n</code> | Number | All numeric types | Integral and decimal digits, group separators, and a decimal separator with optional negative sign. | | <code>P</code> or <code>p</code> | Percent | All numeric types | Number multiplied by 100 and displayed with a percent symbol. | | <code>R</code> or <code>r</code> | Round-trip | Single, Double, BigInteger | A string that can round-trip to an identical number. | | <code>X</code> or <code>x</code> | Hexadecimal | Integral types | A hexadecimal string. | | any other | Unknown | All numeric types | Throws a <code>FormatException</code> at run time. |</p> <h2>Custom numeric format strings</h2> <p>| Format specifier | Name | Description | | :--------------: | :------------------------------------------: | :-----------------------------------------------------------------------------------------------------------------------: | | <code>0</code> | Zero placeholder | Replaces the zero with the corresponding digit if one is present; otherwise, zero appears in the result string. | | <code>#</code> | Digit placeholder | Replaces the &quot;#&quot; symbol with the corresponding digit if one is present; otherwise, no digit appears in the result string. | | <code>.</code> | Decimal point | Determines the location of the decimal separator in the result string. | | <code>,</code> | Group separator, number scaling <sup>I</sup> | Serves as both a group separator and a number scaling specifier. | | <code>%</code> | Percentage placeholder | Multiplies a number by 100 and inserts a localized percentage symbol in the result string. | | <code>‰</code> | Per mille placeholder | Multiplies a number by 1000 and inserts a localized per mille symbol in the result string. | | <code>E0</code> | Exponential notation <sup>II</sup> | If followed by at least one 0 (zero), formats the result using exponential notation. | | <code>\</code> | Escape character <sup>III</sup> | Causes the next character to be interpreted as a literal rather than as a custom format specifier. | | <code>;</code> | Section separator <sup>IV</sup> | Defines sections with separate format strings for positive, negative, and zero numbers. | | any other | All other characters | The character is copied to the result string unchanged. |</p> <p><strong>I</strong>: . As a group separator, it inserts a localized group separator character between each group. As a number scaling specifier, it divides a number by 1000 for each comma specified.</p> <p><strong>II</strong>: The case of &quot;E&quot; or &quot;e&quot; indicates the case of the exponent symbol in the result string. The number of zeros following the &quot;E&quot; or &quot;e&quot; character determines the minimum number of digits in the exponent. A plus sign (+) indicates that a sign character always precedes the exponent. A minus sign (-) indicates that a sign character precedes only negative exponents.</p> <p><strong>III</strong>: The <code>#</code>, <code>0</code>, <code>.</code>, <code>,</code>, <code>%</code>, and <code>‰</code> symbols in a format string are interpreted as format specifiers rather than as literal characters. Depending on their position in a custom format string, the uppercase and lowercase &quot;E&quot; as well as the + and - symbols may also be interpreted as format specifiers.</p> <p><strong>IV</strong>: The semicolon (;) is a conditional format specifier that applies different formatting to a number depending on whether its value is positive, negative, or zero. To produce this behaviour, a custom format string can contain up to three sections separated by semicolons. These sections are:</p> <ul> <li><p>One section: The format string applies to all values.</p> </li> <li><p>Two sections: The first section applies to positive values and zeros, and the second section applies to negative values.</p> <p>If the number to be formatted is negative, but becomes zero after rounding according to the format in the second section, the resulting zero is formatted according to the first section.</p> </li> <li><p>Three sections: The first section applies to positive values, the second section applies to negative values, and the third section applies to zeros.</p> <p>The second section can be left empty (by having nothing between the semicolons), in which case the first section applies to all non-zero values.</p> <p>If the number to be formatted is non-zero, but becomes zero after rounding according to the format in the first or second section, the resulting zero is formatted according to the third section.</p> </li> </ul> <h2>Standard date and time format strings</h2> <p>| Format specifier | Description | Example (en-Us culture) | | :--------------: | :-----------------------------------: | :-------------------------------: | | <code>d</code> | Short date pattern | 6/15/2009 | | <code>D</code> | Long date pattern | Monday, June 15, 2009 | | <code>f</code> | Full date/time pattern (short time) | Monday, June 15, 2009 1:45 PM | | <code>F</code> | Full date/time pattern (long time) | Monday, June 15, 2009 1:45:30 PM | | <code>g</code> | General date/time pattern (long time) | 6/15/2009 1:45:30 PM | | <code>m</code> or <code>M</code> | Month/day pattern | June 15 | | <code>O</code> or <code>o</code> | Round-trip date/time pattern | 2009-06-15T13:45:30.0000000-07:00 | | <code>R</code> or <code>r</code> | RFC1123 pattern | Mon, 15 Jun 2009 20:45:30 | | <code>s</code> | Sortable date/time pattern | 2009-06-15T13:45:30 | | <code>t</code> | Short time pattern | 1:45 PM | | <code>T</code> | Long time pattern | 1:45:30 PM | | <code>u</code> | Universal sortable date/time pattern | 2009-06-15 13:45:30Z | | <code>U</code> | Universal full date/time pattern | Monday, June 15, 2009 8:45:30 PM | | <code>Y</code> or <code>y</code> | Year month pattern | June 2009 |</p> <h2>Custom date and time format strings</h2> <p>| Format specifier | Description | | :--------------: | :-----------------------------------------------------------------: | | <code>d</code> | The day of the month, from 1 through 31. | | <code>dd</code> | The day of the month, from 01 through 31 | | <code>ddd</code> | The abbreviated name of the day of the week | | <code>dddd</code> | The full name of the day of the week | | <code>g</code> or <code>gg</code> | The period or era | | <code>h</code> | The hour, using a 12-hour clock from 1 to 12 | | <code>hh</code> | The hour, using a 12-hour clock from 01 to 12 | | <code>H</code> | The hour, using a 24-hour clock from 0 to 23 | | <code>HH</code> | The hour, using a 24-hour clock from 00 to 23 | | <code>K</code> | Time zone information | | <code>m</code> | The minute, from 0 through 59 | | <code>mm</code> | The minute, from 00 through 59 | | <code>M</code> | The month, from 1 through 12 | | <code>MM</code> | The month, from 01 through 12 | | <code>MMM</code> | The abbreviated name of the month | | <code>MMMM</code> | The full name of the month | | <code>s</code> | The second, from 0 through 59 | | <code>ss</code> | The second, from 00 through 59 | | <code>t</code> | The first character of the AM/PM designator | | <code>tt</code> | The AM/PM designator | | <code>y</code> | The year, from 0 to 99 | | <code>yy</code> | The year, from 00 to 99 | | <code>yyy</code> | The year, with a minimum of three digits | | <code>yyyy</code> | The year as a four-digit number | | <code>yyyyy</code> | The year as a five-digit number | | <code>z</code> | Hours offset from UTC, with no leading zeros | | <code>zz</code> | Hours offset from UTC, with a leading zero for a single-digit value | | <code>zzz</code> | Hours and minutes offset from UTC | | <code>:</code> | The time separator | | <code>/</code> | The date separator | | <code>\</code> | The escape character |</p> <h2>Format string examples</h2> <p><strong>Apply thousand sepperator</strong></p> <pre><code class="language-csharp">int number = 123456; Console.WriteLine($&quot;{number:N0}&quot;) //123 456 </code></pre> <p><strong>Format with fixed number of decimal places</strong></p> <pre><code class="language-csharp">double number = 123.456; Console.WriteLine($&quot;{number:F2}&quot;) //123,46 </code></pre> <p><strong>Date and time formatting</strong></p> <pre><code class="language-csharp">Console.WriteLine($&quot;{DateTime.Now:yyyy-MM-dd}&quot;); //2024-05-12 Console.WriteLine($&quot;{DateTime.Now:HH\\:mm\\:ss}&quot;); //10:01:48 </code></pre> <p>Note: the <code>:</code> must be escaped with <code>\\</code> chars.</p> </div>
<div title="Exceptions" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/070-exceptions.html"><h1>Exceptions</h1> <h2>Common exceptions</h2> <p>^^^ <img src="img/common_exceptions.svg" alt="Common Exceptions" /> ^^^ Common Exceptions</p> <h2>Implementing an own Exception</h2> <p>Every exception class should have 3 constructors for the following scenarios:</p> <ol> <li>A parameterless constructor</li> <li>A constructor that takes a string message</li> <li>A constructor that takes a string message and an inner exception</li> </ol> <p>The constructors should call the base class constructors with the appropriate parameters. Exceptions should be serializable for compatibility with older .NET Framework versions.</p> <pre><code class="language-csharp">[Serializable] public class CustomException : Exception { public CustomException() { } public CustomException(string? message) : base(message) { } public CustomException(string? message, Exception? innerException) : base(message, innerException) { } } </code></pre> <h2>UnreachableExecption</h2> <p>UnreachableException indicates that a code path that should never be reached has been reached. This is usefull, when dealing with enum values, that can be extended in the future. When handling enum values, it is a good practice to always have a default case, that throws an exception. This way, the method will fail fast, if a new enum value is added, and the switch statement is not updated.</p> <pre><code class="language-csharp">public enum MyEnum { First, Second } public void SomeMethod(MyEnum value) { switch(value) { case MyEnum.First: Console.WriteLine(&quot;First&quot;); break; case MyEnum.Second: Console.WriteLine(&quot;Second&quot;); break; default: throw new UnreachableException($&quot;Unknown: {nameof(value)} value: {value}&quot;); } } </code></pre> </div>
<div title="Generics" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/075-generics.html"><h1>Generics</h1> <p>Generics in C# allow you to define classes, methods, interfaces, and delegates with type parameters, enabling type safety and code reuse without compromising performance.</p> <p>Type parameters can be defined for types and methods using angle brackets (<code>&lt;&gt;</code>).</p> <h2>Constraints</h2> <p>Generic constraints in C# provide a way to restrict the types that can be used as arguments for a generic type parameter. Without constraints, generic type parameters can be any type (class, struct, enum, etc.). However, sometimes you want to limit the generic type to certain kinds of types (e.g., reference types, value types, types that implement a specific interface, etc.). Constraints are declared using the <code>where</code> clause in the generic type or method declaration.</p> <h3>No Constraints</h3> <p>If you don't specify any constraints, the type parameter can be any type.</p> <pre><code class="language-csharp">public class GenericClass&lt;T&gt; { public T Value { get; set; } } </code></pre> <h3>Value Type</h3> <pre><code class="language-csharp">public class ValueTypeOnly&lt;T&gt; where T : struct { public T Value { get; set; } } </code></pre> <h3>Reference Type</h3> <pre><code class="language-csharp">public class ReferenceTypeOnly&lt;T&gt; where T : class { public T Value { get; set; } } </code></pre> <h3>Parameterless Constructor</h3> <p>The <code>new()</code> constraint ensures that the type <code>T</code> has a parameterless constructor. This is useful when you need to create instances of the type within the generic class or method.</p> <pre><code class="language-csharp">public class InstantiateType&lt;T&gt; where T : new() { public T CreateInstance() { return new T(); // Requires T to have a parameterless constructor } } </code></pre> <h3>Base Class or Implemented interface</h3> <pre><code class="language-csharp">public class BaseClass { } public class DerivedClass : BaseClass { } public class DerivedTypeOnly&lt;T&gt; where T : BaseClass { public T Value { get; set; } } </code></pre> <h3>Multiple Constraints</h3> <pre><code class="language-csharp">public class MultiConstraint&lt;T&gt; where T : class, new() { public T CreateInstance() { return new T(); // T must be a reference type and have a parameterless constructor } } </code></pre> <h3>Enum</h3> <pre><code class="language-csharp">public class EnumConstraint&lt;T&gt; where T : struct, Enum { public void PrintEnumValues() { foreach (var value in Enum.GetValues(typeof(T))) { Console.WriteLine(value); } } } </code></pre> <h3>Delegate</h3> <pre><code class="language-csharp">public class DelegateConstraint&lt;T&gt; where T : Delegate { public void InvokeDelegate(T del) { del.DynamicInvoke(); // Invoke delegate dynamically } } </code></pre> <h3>notnull</h3> <p>The <code>notnull</code> constraint restricts the generic type parameter <code>T</code> to types that are not nullable, meaning:</p> <ul> <li>It can be any value type</li> <li>It can be any non-nullable reference type</li> <li>It cannot be nullable types like int? (nullable value type) or string? (nullable reference type in C# 8.0 with nullable reference types enabled).</li> </ul> <pre><code class="language-csharp">public class NotNullConstraint&lt;T&gt; where T : notnull { public T Value { get; set; } public NotNullConstraint(T value) { Value = value ?? throw new ArgumentNullException(nameof(value), &quot;Value cannot be null&quot;); } } // Allowed: Non-nullable reference type (string) NotNullConstraint&lt;string&gt; stringConstraint = new NotNullConstraint&lt;string&gt;(&quot;Hello&quot;); // Allowed: Non-nullable reference type (string) NotNullConstraint&lt;string&gt; stringConstraint = new NotNullConstraint&lt;string&gt;(&quot;Hello&quot;); // Not allowed: Nullable reference type (string?) in C# 8.0ű // compile error NotNullConstraint&lt;string?&gt; nullableStringConstraint = new NotNullConstraint&lt;string?&gt;(null); // Not allowed: Nullable value type (int?) // compile error NotNullConstraint&lt;int?&gt; nullableValueConstraint = new NotNullConstraint&lt;int?&gt;(null); </code></pre> <h2>Covariance</h2> <p>Covariance allows you to use a more derived type than originally specified. In C#, covariance applies to generic type parameters in interfaces and delegates when used for output (return types). You declare a type parameter as covariant using the <code>out</code> keyword.</p> <pre><code class="language-csharp">public interface ICovariant&lt;out T&gt; { T GetItem(); } </code></pre> <p>Here, <code>T</code> is covariant because it is marked with the <code>out</code> keyword, and it can only be used as a return type. The <code>out</code> keyword means that if <code>Dog</code> inherits from <code>Animal</code>, then <code>ICovariant&lt;Dog&gt;</code> can be treated as <code>ICovariant&lt;Animal&gt;</code>:</p> <pre><code class="language-csharp">ICovariant&lt;Animal&gt; animals = new CovariantImplementation&lt;Dog&gt;(); Animal animal = animals.GetItem(); </code></pre> <h2>Contravariance</h2> <p>Contravariance allows you to use a more general (or base) type than originally specified. In C#, contravariance applies to generic type parameters in interfaces and delegates when used for input (method parameters). You declare a type parameter as contravariant using the <code>in</code> keyword.</p> <pre><code class="language-csharp">public interface IContravariant&lt;in T&gt; { void SetItem(T item); } </code></pre> <p>Here, <code>T</code> is contravariant because it is marked with the in keyword, and it can only be used as a method parameter. The <code>in</code> keyword means that if <code>Dog</code> inherits from <code>Animal</code>, then <code>IContravariant&lt;Animal&gt;</code> can be treated as <code>IContravariant&lt;Dog&gt;</code>.</p> <pre><code class="language-csharp">IContravariant&lt;Dog&gt; dogs = new ContravariantImplementation&lt;Animal&gt;(); dogs.SetItem(new Dog()); </code></pre> <h2>Invariance</h2> <p>Invariance means that there is no relationship between <code>GenericType&lt;Derived&gt;</code> and <code>GenericType&lt;Base&gt;</code>, even if <code>Derived</code> inherits from <code>Base</code>. Most generic types in C# are invariant by default. This means that <code>List&lt;Dog&gt;</code> is not considered a subtype of <code>List&lt;Animal&gt;</code>, even though <code>Dog</code> is a subtype of <code>Animal</code>.</p> <pre><code class="language-csharp">//the following causes a compile error List&lt;Animal&gt; animals = new List&lt;Dog&gt;(); </code></pre> </div>
<div title="Collections" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/080-collections.html"><h1>Collections</h1> <p>^^^ <img src="img/collections1.svg" alt="collection interfaces" /> ^^^ collection interfaces</p> <p>| Type | Description | Is | | :----------------------------------: | :------------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------: | | <code>T[]</code> | Represents an Array | <code>IList&lt;T&gt;</code>, <code>IReadonlyList&lt;T&gt;</code> | | <code>List&lt;T&gt;</code> | Represents a strongly typed list of objects that can be accessed by index | <code>IList&lt;T&gt;</code>, <code>IReadonlyList&lt;T&gt;</code> | | <code>Dictionary&lt;TKey, TValue&gt;</code> | Represents a collection of keys and values | <code>IReadOnlyDictionary&lt;TKey, TValue&gt;</code>, <code>IDictionary&lt;TKey, TValue&gt;</code> | | <code>HashSet&lt;T&gt;</code> | Represents a set of values | <code>ISet&lt;T&gt;</code>, <code>IReadOnlySet&lt;T&gt;</code> | | <code>Queue&lt;T&gt;</code> | Represents a first-in, first-out collection | <code>ICollection&lt;T&gt;</code>, <code>IReadOnlyCollection&lt;T&gt;</code> | | <code>PriorityQueue&lt;TElement, TPriority&gt;</code> | On Dequeue the item with the lowest priority value is removed | -- | | <code>Stack&lt;T&gt;</code> | Represents a variable size last-in-first-out (LIFO) collection | <code>ICollection&lt;T&gt;</code>, <code>IReadOnlyCollection&lt;T&gt;</code> | | <code>LinkedList&lt;T&gt;</code> | Represents a doubly linked list | <code>ICollection&lt;T&gt;</code>, <code>IReadOnlyCollection&lt;T&gt;</code> | | <code>Collection&lt;T&gt;</code> | Provides the base class for a generic collection. | <code>ICollection&lt;T&gt;</code>, <code>IReadOnlyCollection&lt;T&gt;</code>, <code>IList&lt;T&gt;</code>, <code>IReadonlyList&lt;T&gt;</code> | | <code>ReadOnlyCollection&lt;T&gt;</code> | Provides the base class for a generic read-only collection. | <code>ICollection&lt;T&gt;</code>, <code>IReadOnlyCollection&lt;T&gt;</code>, <code>IList&lt;T&gt;</code>, <code>IReadonlyList&lt;T&gt;</code> | | <code>ObservableCollection&lt;T&gt;</code> | Represents a dynamic data collection that provides notifications when items get added or removed, or when the whole list is refreshed. | <code>Collection&lt;T&gt;</code>, <code>INotifyCollectionChanged</code>, <code>INotifyPropertyChanged</code> | | <code>BindingList&lt;T&gt;</code> | Provides a generic collection that supports data binding. | <code>ICollection&lt;T&gt;</code> | | <code>FrozenDictionary&lt;TKey,TValue&gt;</code> | Provides an immutable, read-only dictionary optimized for fast lookup and enumeration. | <code>IReadOnlyDictionary&lt;TKey, TValue&gt;</code>, <code>IDictionary&lt;TKey, TValue&gt;</code> | | <code>FrozenSet&lt;T&gt;</code> | Provides an immutable, read-only set optimized for fast lookup and enumeration. | <code>ISet&lt;T&gt;</code>, <code>IReadOnlySet&lt;T&gt;</code> |</p> <h2>Concurrent Collections</h2> <p>| Type | Description | Is | | :---------------------------------: | :---------------------------------------------------------------------: | :---------------------------------------------------------------: | | <code>BlockingCollection&lt;T&gt;</code> | Provides blocking and bounding capabilities for thread-safe collections | <code>IReadOnlyCollection&lt;T&gt;</code> | | <code>ConcurrentBag&lt;T&gt;</code> | Represents a thread-safe, unordered collection of objects | <code>IReadOnlyCollection&lt;T&gt;</code>, <code>IProducerConsumerCollection&lt;T&gt;</code> | | <code>ConcurrentDictionary&lt;TKey,TValue&gt;</code> | Represents a thread-safe collection of key/value pairs | <code>IReadOnlyDictionary&lt;TKey,TValue&gt;</code>, <code>IDictionary&lt;TKey,TValue&gt;</code> | | <code>ConcurrentQueue&lt;T&gt;</code> | Represents a thread-safe first in-first out (FIFO) collection | <code>IReadOnlyCollection&lt;T&gt;</code>, <code>IProducerConsumerCollection&lt;T&gt;</code> | | <code>ConcurrentStack&lt;T&gt;</code> | Represents a thread-safe last in-first out (LIFO) collection | <code>IReadOnlyCollection&lt;T&gt;</code>, <code>IProducerConsumerCollection&lt;T&gt;</code> |</p> </div>
<div title="LINQ" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/090-linq.html"><h1>LINQ</h1> <p>Language-Integrated Query (LINQ) is the name for a set of technologies based on the integration of query capabilities directly into the C# language. With LINQ, a query is a first-class language construct, just like classes, methods, and events.</p> <p>The LINQ to Objects works with any collection that implements the <code>IEnumerable&lt;T&gt;</code> interface.</p> <p>^^^ <img src="img/collections2.svg" alt="The IEnumerable&lt;T&gt; interface" /> ^^^ The IEnumerable&lt;T&gt; interface</p> <h2>Filtering</h2> <pre><code class="language-csharp">var customerOrders = Orders.Where(order =&gt; order.CustomerId == 66); </code></pre> <h2>Select with anonymus type</h2> <pre><code class="language-csharp">var ordersWithCost = Orders.Select(order =&gt; new { OrderId = order.Id, Cost = order.Cost, }); </code></pre> <h2>Distinct</h2> <pre><code class="language-csharp">//The Distinct method requires equality implementation on the class or //an IEqualityComparer as parameter var uniqueNames = customer.Distinct((customerComparer); //DistinctBy requires a lambda var uniqueNames = customer.DistinctBy(√ =&gt; √.Name); </code></pre> <h2>Ordering</h2> <pre><code class="language-csharp">var ascendingOrder = orders.OrderBy(order =&gt; order.Cost); var descendingOrder = orders.OrderByDescending(order =&gt; order.Cost); var multipleOdering = orders.OrderBy(order =&gt; order.Cost).ThenBy(order =&gt; order.CustomerId); </code></pre> <p>Note: Result will be an <code>IOrderedEnumerable&lt;TElement&gt;</code>.</p> <h2>Join</h2> <pre><code class="language-csharp">var joined = customers.Join(orders, customer =&gt; customer.Id, order =&gt; order.CustomerId (customer, order) =&gt; new { CustomerId = customer.Id, Name = customer.Name, Cost = order.Cost, }); </code></pre> <h2>Grouping</h2> <pre><code class="language-csharp">var grouped = orders.GroupBy(order =&gt; CustomerId); </code></pre> <p>Note: Result will be an <code>IGrouping&lt;TKey,TElement&gt;</code></p> <h2>Lookup</h2> <pre><code class="language-csharp">var packagesByCompany = packages.ToLookup(oder =&gt; oder.Date, order =&gt; order.id); </code></pre> <p>Note: Result will be an <code>ILookup&lt;TKey,TElement&gt;</code>, which is a one-to-many dictionary that maps keys to collections of values.</p> <h2>Zip</h2> <p>Zip creates an Enumerable of tuples, where the first element of the tuple is the element from the first sequence and the second element is the element from the second sequence.</p> <pre><code class="language-csharp">int[] first = [1, 2, 3]; string[] second = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]; //Returns [(1, &quot;a&quot;), (2, &quot;b&quot;), (3, &quot;c&quot;)] first.Zip(second); </code></pre> <h2>Skip &amp; Take</h2> <pre><code class="language-csharp">var take3 = orders.Take(3); var ne√t3 = orders.Skip(3).Take(3); </code></pre> <h2>Element operations</h2> <pre><code class="language-csharp">//throws e√ception if element not found var firstCustomer = customers.First(customer =&gt; customer.Id == 63); var lastCustomer = customers.Last(customer =&gt; customer.Id == 63); //returns default value if element not found. For refenrence types this is null! var firstCustomer = customers.FirstOrDefault(customer =&gt; customer.Id == 63); var lastCustomer = customers.LastOrDefault(customer =&gt; customer.Id == 63); //You can specify the default return value with the 2nd parameter: var firstCustomer = customers.FirstOrDefault(customer =&gt; customer.Id == 63, new Cutomer()); var lastCustomer = customers.LastOrDefault(customer =&gt; customer.Id == 63, new Customer()); </code></pre> <h2>Conversions</h2> <pre><code class="language-csharp">Order[] orders = Orders.Where(order =&gt; order.CustomerId == 66).ToArray(); List&lt;Order&gt; orders = Orders.Where(order =&gt; order.CustomerId == 66).ToList(); HashSet&lt;Order&gt; orders = Orders.Where(order =&gt; order.CustomerId == 66).ToHashSet(); Dictionary&lt;int, string&gt; customerDictionary = Customers.ToDictionary(customer =&gt; customer.Id, customer =&gt; customer.Name); </code></pre> <h2>Enumerable class</h2> <pre><code class="language-csharp">//Create a range of numbers from 0 to 9 IEnumerable&lt;int&gt; range = Enumerable.Range(0, 10); //Create a sequence of 12 &quot;foo&quot; strings IEnumerable&lt;string&gt; foos = Enumerable.Repeat(&quot;foo&quot;, 12); //Create an empty sequence of integers IEnumerable&lt;int&gt; empty = Enumerable.Empty&lt;int&gt;(); </code></pre> <h2>Linq Execution</h2> <p>^^^ <img src="img/linq-execution.svg" alt="Classification of standard query operators by manner of execution" /> ^^^ Classification of standard query operators by manner of execution</p> <p>| Standard query operator | Return type | Immediate | Deferred streaming | Deferred nonstreaming | | :---------------------: | :--------------------------------------------: | :-------: | :----------------: | :-------------------: | | Aggregate | <code>TSource</code> | √ | | | | All | <code>bool</code> | √ | | | | Any | <code>bool</code> | √ | | | | AsEnumerable | <code>IEnumerable&lt;T&gt;</code> | | √ | | | Average | Single numeric value | √ | | | | Cast | <code>IEnumerable&lt;T&gt;</code> | | √ | | | Concat | <code>IEnumerable&lt;T&gt;</code> | | √ | | | Contains | <code>bool</code> | √ | | | | Count | <code>int</code> | √ | | | | DefaultIfEmpty | <code>IEnumerable&lt;T&gt;</code> | | √ | | | Distinct | <code>IEnumerable&lt;T&gt;</code> | | √ | | | ElementAt | <code>TSource</code> | √ | | | | ElementAtOrDefault | <code>TSource?</code> | √ | | | | Empty | <code>IEnumerable&lt;T&gt;</code> | √ | | | | E√cept | <code>IEnumerable&lt;T&gt;</code> | | √ | √ | | First | <code>TSource</code> | √ | | | | FirstOrDefault | <code>TSource?</code> | √ | | | | GroupBy | <code>IEnumerable&lt;T&gt;</code> | | | √ | | GroupJoin | <code>IEnumerable&lt;T&gt;</code> | | √ | √ | | Intersect | <code>IEnumerable&lt;T&gt;</code> | | √ | √ | | Join | <code>IEnumerable&lt;T&gt;</code> | | √ | √ | | Last | <code>TSource</code> | √ | | | | LastOrDefault | <code>TSource?</code> | √ | | | | LongCount | <code>long</code> | √ | | | | Ma√ | Single numeric value, <code>TSource</code>, or <code>TResult?</code> | √ | | | | Min | Single numeric value, <code>TSource</code>, or <code>TResult?</code> | √ | | | | OfType | <code>IEnumerable&lt;T&gt;</code> | | √ | | | OrderBy | <code>IOrderedEnumerable&lt;T&gt;</code> | | | √ | | OrderByDescending | <code>IOrderedEnumerable&lt;T&gt;</code> | | | √ | | Range | <code>IEnumerable&lt;T&gt;</code> | | √ | | | Repeat | <code>IEnumerable&lt;T&gt;</code> | | √ | | | Reverse | <code>IEnumerable&lt;T&gt;</code> | | | √ | | Select | <code>IEnumerable&lt;T&gt;</code> | | √ | | | SelectMany | <code>IEnumerable&lt;T&gt;</code> | | √ | | | SequenceEqual | <code>bool</code> | √ | | | | Single | <code>TSource</code> | √ | | | | SingleOrDefault | <code>TSource?</code> | √ | | | | Skip | <code>IEnumerable&lt;T&gt;</code> | | √ | | | SkipWhile | <code>IEnumerable&lt;T&gt;</code> | | √ | | | Sum | Single numeric value | √ | | | | Take | <code>IEnumerable&lt;T&gt;</code> | | √ | | | TakeWhile | <code>IEnumerable&lt;T&gt;</code> | | √ | | | ThenBy | <code>IOrderedEnumerable&lt;T&gt;</code> | | | √ | | ThenByDescending | <code>IOrderedEnumerable&lt;T&gt;</code> | | | √ | | ToArray | <code>TSource[]</code> array | √ | | | | ToDictionary | <code>Dictionary&lt;TKey, TValue&gt;</code> | √ | | | | ToList | <code>IList&lt;T&gt;</code> | √ | | | | ToLookup | <code>ILookup&lt;T&gt;</code> | √ | | | | Union | <code>IEnumerable&lt;T&gt;</code> | | √ | | | Where | <code>IEnumerable&lt;T&gt;</code> | | √ | |</p> </div>
<div title="Pattern matching" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/100-paternmatch.html"><h1>Pattern matching</h1> <h2>Discard pattern</h2> <p>The discard pattern can be used to match any expression, including <code>null</code>. It's represented by the <code>_</code> symbol.</p> <pre><code class="language-csharp">bool isFloatingPointNumber(string input) { //the out value of the conversion is discarded return double.TryParse(input, out double _); } </code></pre> <h2>var pattern</h2> <p>The <code>var</code> pattern can be used to match any expression, including <code>null</code>, and assign its result to a new local variable:</p> <pre><code class="language-csharp">bool isFloatingPointNumber(string input) { return double.TryParse(input, out var _); } </code></pre> <h2>Declaration and type patterns</h2> <pre><code class="language-csharp">object greeting = &quot;Hello, World!&quot;; if (greeting is string message) { //greeting is a string and casted to message variable } </code></pre> <p>A declaration pattern with type T matches an expression when an expression result is non-null and any of the following conditions are true:</p> <ul> <li>The run-time type of an expression result is T.</li> <li>The run-time type of an expression result derives from type T, implements interface T, or another implicit reference conversion exists from it to T.</li> </ul> <p><strong>Null checking:</strong></p> <pre><code class="language-csharp">if (input is not null) { // ... } </code></pre> <p><strong>Type checking in switch:</strong></p> <pre><code class="language-csharp">public abstract class Vehicle {} public class Car : Vehicle {} public class Truck : Vehicle {} public static class TollCalculator { public static decimal CalculateToll(this Vehicle vehicle) =&gt; vehicle switch { Car _ =&gt; 2.00m, Truck _ =&gt; 7.50m, null =&gt; throw new ArgumentNullException(nameof(vehicle)), _ =&gt; throw new ArgumentException(&quot;Unknown type of a vehicle&quot;, nameof(vehicle)), }; } </code></pre> <h2>Constant pattern</h2> <pre><code class="language-csharp">public static decimal GetGroupTicketPrice(int visitorCount) =&gt; visitorCount switch { 1 =&gt; 12.0m, 2 =&gt; 20.0m, 3 =&gt; 27.0m, 0 =&gt; 0.0m, _ =&gt; throw new ArgumentException($&quot;Not supported number of visitors: {visitorCount}&quot;, nameof(visitorCount)), }; </code></pre> <p>In a constant pattern, you can use any constant expression, such as integers, floating-point numbers, char, string, boolean, enums, name of a declared const field or local and null. Note: <code>Span&lt;char&gt;</code> or <code>ReadOnlySpan&lt;char&gt;</code> can also be matched in the constant pattern, but in C# 11 and later versions</p> <h2>Relational patterns</h2> <pre><code class="language-csharp">static string Classify(double measurement) =&gt; measurement switch { &lt; -4.0 =&gt; &quot;Too low&quot;, &gt; 10.0 =&gt; &quot;Too high&quot;, double.NaN =&gt; &quot;Unknown&quot;, _ =&gt; &quot;Acceptable&quot;, }; </code></pre> <p>In a relational pattern, you can use any of the relational operators <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, or <code>&gt;=</code>. The right-hand part of a relational pattern must be a constant expression. For the constant expression, the constant pattern limitations apply.</p> <h2>Logical patterns</h2> <pre><code class="language-csharp">static string Classify(double measurement) =&gt; measurement switch { &lt; -40.0 =&gt; &quot;Too low&quot;, &gt;= -40.0 and &lt; 0 =&gt; &quot;Low&quot;, &gt;= 0 and &lt; 10.0 =&gt; &quot;Acceptable&quot;, &gt;= 10.0 and &lt; 20.0 =&gt; &quot;High&quot;, &gt;= 20.0 =&gt; &quot;Too high&quot;, double.NaN =&gt; &quot;Unknown&quot;, }; </code></pre> <pre><code class="language-csharp">static string GetCalendarSeason(DateTime date) =&gt; date.Month switch { 3 or 4 or 5 =&gt; &quot;spring&quot;, 6 or 7 or 8 =&gt; &quot;summer&quot;, 9 or 10 or 11 =&gt; &quot;autumn&quot;, 12 or 1 or 2 =&gt; &quot;winter&quot;, _ =&gt; throw new ArgumentOutOfRangeException(nameof(date), $&quot;Date with unexpected month: {date.Month}.&quot;), }; </code></pre> <p>Precedence: <code>not</code>, <code>and</code>, <code>or</code>. To explicitly specify the precedence, use parentheses:</p> <pre><code class="language-csharp">static bool IsLetter(char c) =&gt; c is (&gt;= 'a' and &lt;= 'z') or (&gt;= 'A' and &lt;= 'Z'); </code></pre> <h2>Property Pattern</h2> <pre><code class="language-csharp">static bool IsConferenceDay(DateTime date) =&gt; date is { Year: 2020, Month: 5, Day: 19 or 20 or 21 }; </code></pre> <p>A property pattern matches an expression when an expression result is non-null and every nested pattern matches the corresponding property or field of the expression result. It can be combined with run-time type check and variable declaration:</p> <pre><code class="language-csharp">static string TakeFive(object input) =&gt; input switch { string { Length: &gt;= 5 } s =&gt; s.Substring(0, 5), string s =&gt; s, ICollection&lt;char&gt; { Count: &gt;= 5 } symbols =&gt; new string(symbols.Take(5).ToArray()), ICollection&lt;char&gt; symbols =&gt; new string(symbols.ToArray()), null =&gt; throw new ArgumentNullException(nameof(input)), _ =&gt; throw new ArgumentException(&quot;Not supported input type.&quot;), }; </code></pre> <h2>Positional pattern</h2> <p>You use a positional pattern to deconstruct an expression result and match the resulting values against the corresponding nested patterns.</p> <pre><code class="language-csharp">public readonly struct Point { public int X { get; } public int Y { get; } public Point(int x, int y) =&gt; (X, Y) = (x, y); public void Deconstruct(out int x, out int y) =&gt; (x, y) = (X, Y); } static string Classify(Point point) =&gt; point switch { (0, 0) =&gt; &quot;Origin&quot;, (1, 0) =&gt; &quot;positive X basis end&quot;, (0, 1) =&gt; &quot;positive Y basis end&quot;, _ =&gt; &quot;Just a point&quot;, }; </code></pre> <p>At the preceding example, the type of an expression contains the Deconstruct method, which is used to deconstruct an expression result. You can also match expressions of tuple types against positional patterns. In that way, you can match multiple inputs against various patterns:</p> <pre><code class="language-csharp">static decimal GetGroupTicketPriceDiscount(int groupSize, DateTime visitDate) =&gt; (groupSize, visitDate.DayOfWeek) switch { (&lt;= 0, _) =&gt; throw new ArgumentException(&quot;Group size must be positive.&quot;), (_, DayOfWeek.Saturday or DayOfWeek.Sunday) =&gt; 0.0m, (&gt;= 5 and &lt; 10, DayOfWeek.Monday) =&gt; 20.0m, (&gt;= 10, DayOfWeek.Monday) =&gt; 30.0m, (&gt;= 5 and &lt; 10, _) =&gt; 12.0m, (&gt;= 10, _) =&gt; 15.0m, _ =&gt; 0.0m, }; </code></pre> <h2>List patterns</h2> <pre><code class="language-csharp">int[] numbers = { 1, 2, 3 }; numbers is [1, 2, 3]; //true numbers is [1, 2, 4]; //false numbers is [1, 2, 3, 4]; //false numbers is [0 or 1, &lt;= 2, &gt;= 3]; //true </code></pre> <p>To match elements only at the start or/and the end of an input sequence, use the slice pattern (<code>..</code>); A slice pattern matches zero or more elements. You can use at most one slice pattern in a list pattern. The slice pattern can only appear in a list pattern.</p> <pre><code class="language-csharp">new[] { 1, 2, 3, 4, 5 } is [&gt; 0, &gt; 0, ..]; // True new[] { 1, 1 } is [_, _, ..]; // True new[] { 0, 1, 2, 3, 4 } is [&gt; 0, &gt; 0, ..]; // False new[] { 1 } is [1, 2, ..]; // False new[] { 1, 2, 3, 4 } is [.., &gt; 0, &gt; 0]; // True new[] { 2, 4 } is [.., &gt; 0, 2, 4]; // False new[] { 2, 4 } is [.., 2, 4]; // True new[] { 1, 2, 3, 4 } is [&gt;= 0, .., 2 or 4]; // True new[] { 1, 0, 0, 1 } is [1, 0, .., 0, 1]; // True new[] { 1, 0, 1 } is [1, 0, .., 0, 1]; // False </code></pre> </div>
<div title="Tasks" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/105-tasks.html"><h1>Tasks</h1> <p>A Task in .NET represents an asynchronous operation that can return a result or complete without one. Tasks are used to perform background operations, avoiding blocking the main thread.</p> <h2>Creating and Running Tasks</h2> <p>A Task can be started with the <code>Task.Run</code> method or alternatively with the <code>Task.Factory.StartNew</code> method.</p> <pre><code class="language-csharp">Task.Run(() =&gt; DoWork()); Task.Factory.StartNew(() =&gt; DoWork()); </code></pre> <p>Tasks can return a result using <code>Task&lt;T&gt;</code> where <code>T</code> is the type of the result:</p> <pre><code class="language-csharp">Task&lt;int&gt; task = Task.Run(() =&gt; Compute()); </code></pre> <h2>Task operations</h2> <p>The <code>Task.Wait()</code> Blocks the calling thread until the task finishes.</p> <pre><code class="language-csharp">task.Wait(); </code></pre> <p>You can chain tasks by continuing them with <code>ContinueWith</code>.</p> <pre><code class="language-csharp">Task.Run(() =&gt; DoWork()) .ContinueWith(t =&gt; Console.WriteLine(&quot;Task completed!&quot;)); </code></pre> <p>Tasks can be cancelled using a CancellationToken</p> <pre><code class="language-csharp">var tokenSource = new CancellationTokenSource(); var token = tokenSource.Token; Task task = Task.Run(() =&gt; DoWork(token), token); tokenSource.Cancel(); // Cancel the task </code></pre> <h2>Async await</h2> <p>The <code>async</code> and <code>await</code> keywords are used to write asynchronous code in a simplified manner. This is often combined with tasks to ensure non-blocking operations.</p> <pre><code class="language-csharp">public async Task DoWorkAsync() { await Task.Delay(1000); Console.WriteLine(&quot;Work completed&quot;); } </code></pre> <h2>Task types</h2> <p>In C#, both <code>Task</code> and <code>ValueTask</code> are used to represent asynchronous operations, but they are optimized for different scenarios.</p> <p>^^^ <img src="img/tasks.svg" alt="Task Types" /> ^^^ Task Types</p> <h3>When to use a Task</h3> <ul> <li><p><strong>Asynchronous method always completes asynchronously</strong>:</p> <p>If the operation always runs asynchronously and returns a result in the future, use Task. The overhead of Task is justified for managing the state of the operation.</p> </li> <li><p><strong>Long-running or CPU-bound operations</strong>:</p> <p>When the operation involves long-running or CPU-intensive tasks, Task is the standard choice.</p> </li> <li><p><strong>Multiple await points or continuations</strong>:</p> <p>If the method has multiple asynchronous steps or continuations (e.g., several <code>await</code> calls), <code>Task</code> is better suited as it provides efficient memory management for complex operations.</p> </li> <li><p><strong>Memory management is not a major concern</strong>:</p> <p>In many scenarios, the additional memory overhead of <code>Task</code> is minimal and worth the simplicity it offers.</p> </li> <li><p><strong>You expect consumers to use <code>.Result</code>, <code>.Wait()</code>, or <code>Task.WhenAll</code></strong>:</p> <p>Task handles these scenarios better because it is reference type and has additional functionality for managing asynchronous flows.</p> </li> </ul> <h3>When to use a ValueTask</h3> <ul> <li><p><strong>Operation may complete synchronously</strong>:</p> <p>If the operation sometimes completes synchronously (e.g., from a cache or optimized path), <code>ValueTask</code> avoids allocating a <code>Task</code> object unnecessarily.</p> </li> <li><p><strong>Performance-sensitive, high-frequency methods</strong>:</p> <p>In performance-critical code where the method is called frequently, and synchronous completions are common, It can reduce memory allocations and improve efficiency.</p> </li> <li><p><strong>Low memory pressure is essential</strong>:</p> <p>It is a value type, so it avoids heap allocations when it completes synchronously, which is useful in scenarios where memory allocation needs to be minimized.</p> </li> <li><p><strong>Limited continuation and lifetime</strong>:</p> <p>If you are sure that the <code>ValueTask</code> will only be awaited once (e.g., there are no complex continuations, multiple awaits, or reuse), it’s safe to use.</p> </li> <li><p><strong>Pooling or caching scenarios</strong>:</p> <p>When implementing methods that benefit from object pooling or where synchronous fast-path execution is common (like low-latency I/O or cached results), it is a good option.</p> </li> </ul> <h3>What not to do with ValueTasks</h3> <p><strong>If you do any of the following, then the results are undefined</strong>:</p> <ul> <li>Awaiting the instance multiple times.</li> <li>Calling <code>AsTask()</code> multiple times.</li> <li>Using more than one of these techniques to consume the instance.</li> </ul> <h2>Async/await best practices</h2> <h3>Avoid async void</h3> <p>Void-returning async methods have a specific purpose: to make asynchronous event handlers possible. Async void methods have different error-handling semantics. When an exception is thrown out of an <code>async Task</code> or <code>async Task&lt;T&gt;</code> method, that exception is captured and placed on the <code>Task</code> object. With async void methods, there is no <code>Task</code> object, so any exceptions thrown out of an <code>async void</code> method will be raised directly on the SynchronizationContext that was active when the <code>async void</code> method started.</p> <pre><code class="language-csharp">private async void ThrowExceptionAsync() { throw new InvalidOperationException(); } public void AsyncVoidExceptions_CannotBeCaughtByCatch() { try { ThrowExceptionAsync(); } catch (Exception) { // The exception is never caught here! throw; } } </code></pre> <p>These exceptions can be observed using AppDomain.UnhandledException or a similar catch-all event.</p> <h3>Async All the Way</h3> <p>“Async all the way” means that you shouldn’t mix synchronous and asynchronous code without carefully considering the consequences. In particular, it’s usually a bad idea to block on async code by calling Task.Wait or Task.Result. This is an especially common problem that can cause deadlocks.</p> <pre><code class="language-csharp">public static class DeadlockDemo { private static async Task DelayAsync() { await Task.Delay(1000); } // This method causes a deadlock when called in a GUI or ASP.NET context. public static void Test() { // Start the delay. var delayTask = DelayAsync(); // Wait for the delay to complete. delayTask.Wait(); } } </code></pre> <h3>Configure Context</h3> <p>By using <code>ConfigureAwait</code>, you enable a small amount of parallelism: Some asynchronous code can run in parallel with the GUI thread instead of constantly badgering it with bits of work to do. Aside from performance, ConfigureAwait has another important aspect: It can avoid deadlocks.</p> <p>You should not use ConfigureAwait when you have code after the await in the method that needs the context. For GUI apps, this includes any code that manipulates GUI elements, writes data-bound properties or depends on a GUI-specific type.</p> <pre><code class="language-csharp">private async Task HandleClickAsync() { // Can use ConfigureAwait here. await Task.Delay(1000).ConfigureAwait(continueOnCapturedContext: false); } private async void button1_Click(object sender, EventArgs e) { button1.Enabled = false; try { // Can't use ConfigureAwait here. await HandleClickAsync(); } finally { // We are back on the original context for this method. button1.Enabled = true; } } </code></pre> </div>
<div title="I/O" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/110-io.html"><h1>I/O</h1> <p>^^^ <img src="img/streamtypes.svg" alt="Stream types" /> ^^^ Stream types</p> <p>^^^ <img src="img/streamwriters.svg" alt="Reader and writer types" /> ^^^ Reader and writer types</p> </div>
<div title="Attributes" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/111-attribs.html"><h1>Attributes</h1> <p>^^^ <img src="img/attributes.svg" alt="Common Attributes" /> ^^^ Common Attributes</p> <h2>Data annotation</h2> <p>^^^ <img src="img/attributes-dataannotation.svg" alt="Data annotation Attributes" /> ^^^ Data annotation Attributes</p> <h2>Nullable attributes</h2> <p>In a nullable enabled context, the compiler performs static analysis of code to determine the null-state of all reference type variables:</p> <ul> <li>not-null: Static analysis determines that a variable has a non-null value.</li> <li>maybe-null: Static analysis can't determine that a variable is assigned a non-null value.</li> </ul> <p>Attributes can be aplied to our code that gives the compiler more information about the rules for your API. When calling code is compiled in a nullable enabled context, the compiler will warn callers when they violate those rules. These attributes don't enable more checks on your implementation.</p> <h3>Preconditions: AllowNull and DisallowNull</h3> <ul> <li><code>AllowNull</code>: A non-nullable parameter, field, or property may be null.</li> <li><code>DisallowNull</code>: A nullable parameter, field, or property should never be null.</li> </ul> <pre><code class="language-csharp">[AllowNull] public string ScreenName { get =&gt; _screenName; set =&gt; _screenName = value ?? GenerateRandomScreenName(); } private string _screenName = GenerateRandomScreenName(); [DisallowNull] public string? ReviewComment { get =&gt; _comment; set =&gt; _comment = value ?? throw new ArgumentNullException(nameof(value), &quot;Cannot set to null&quot;); } string? _comment; </code></pre> <h3>Postconditions: MaybeNull and NotNull</h3> <ul> <li><code>MaybeNull</code>: A non-nullable parameter, field, property, or return value may be null.</li> <li><code>NotNull</code>: A nullable parameter, field, property, or return value will never be null.</li> </ul> <pre><code class="language-csharp">[return: MaybeNull] public T Find&lt;T&gt;(IEnumerable&lt;T&gt; sequence, Func&lt;T, bool&gt; predicate) { //implementation } public static void ThrowWhenNull([NotNull] object? value, string valueExpression = &quot;&quot;) { _ = value ?? throw new ArgumentNullException(nameof(value), valueExpression); } </code></pre> <h3>Conditional post-conditions: NotNullWhen, MaybeNullWhen, and NotNullIfNotNull</h3> <ul> <li><code>NotNullWhen</code>: A nullable argument won't be null when the method returns the specified <code>bool</code> value.</li> <li><code>MaybeNullWhen</code>: A non-nullable argument may be null when the method returns the specified <code>bool</code> value.</li> <li><code>NotNullIfNotNull</code>: A return value, property, or argument isn't null if the argument for the specified parameter isn't null.</li> </ul> <pre><code class="language-csharp">bool TryGetMessage(string key, [NotNullWhen(true)] out string? message) { if (_messageMap.ContainsKey(key)) message = _messageMap[key]; else message = null; return message is not null; } [return: NotNullIfNotNull(nameof(url))] string? GetTopLevelDomainFromFullUrl(string? url) { //implementation } </code></pre> <h3>MemberNotNull and MemberNotNullWhen</h3> <ul> <li><code>MemberNotNull</code>: The listed member won't be null when the method returns.</li> <li><code>MemberNotNullWhen</code>: The listed member won't be null when the method returns the specified bool value.</li> </ul> <pre><code class="language-csharp">public class Container { private string _uniqueIdentifier; // must be initialized. private string? _optionalMessage; public Container() { Helper(); } public Container(string message) { Helper(); _optionalMessage = message; } [MemberNotNull(nameof(_uniqueIdentifier))] private void Helper() { _uniqueIdentifier = DateTime.Now.Ticks.ToString(); } } </code></pre> <h3>DoesNotReturn and DoesNotReturnIf</h3> <ul> <li><code>DoesNotReturn</code>: A method or property never returns. In other words, it always throws an exception.</li> <li><code>DoesNotReturnIf</code>: A method or property never returns if the associated bool parameter has the specified value.</li> </ul> <pre><code class="language-csharp">[DoesNotReturn] private void FailFast() { throw new InvalidOperationException(); } public void SetState(object containedField) { if (containedField is null) { FailFast(); } // containedField can't be null: _field = containedField; } </code></pre> </div>
<div title="Serialization" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/112-serialization.html"><h1>Serialization</h1> <h2>XML Serialization</h2> <p>XML serialization is part of .NET since the 1.0 release. It uses attributes and under the hood reflection to serialize data into the XML (https://en.wikipedia.org/wiki/XML) format. To use XML serialization you must reference the <code>System.Xml.Serialization</code> namespace. <strong>Warning</strong>: The XmlSerializer class <strong>does not serializes objects that are marked as <code>[Obsolete]</code></strong>.</p> <p>Important attributes and their hierarchy for XML serialization:</p> <ul> <li><p><strong>XmlArray</strong>:</p> <p>Specifies that the XmlSerializer must serialize a particular class member as an array of XML elements.</p> </li> <li><p><strong>XmlArrayItem</strong>:</p> <p>Represents an attribute that specifies the derived types that the XmlSerializer can place in a serialized array.</p> </li> <li><p><strong>XmlAttribute</strong>:</p> <p>Specifies that the XmlSerializer must serialize the class member as an XML attribute.</p> </li> <li><p><strong>XmlElement</strong>:</p> <p>Indicates that a public field or property represents an XML element when the XmlSerializer serializes or deserializes the object that contains it.</p> </li> <li><p><strong>XmlEnum</strong>:</p> <p>Controls how the XmlSerializer serializes an enumeration member.</p> </li> <li><p><strong>XmlIgnore</strong>:</p> <p>Instructs the Serialize(TextWriter, Object) method of the XmlSerializer not to serialize the public field or public read/write property value.</p> </li> <li><p><strong>XmlRoot</strong>:</p> <p>Controls XML serialization of the attribute target as an XML root element.</p> </li> <li><p><strong>XmlTextAttribute</strong>:</p> <p>Indicates to the XmlSerializer that the member must be treated as XML text when the class that contains it is serialized or de-serialized.</p> </li> </ul> <h3>XML serialization example</h3> <p><strong>Object model that will be serialized:</strong></p> <pre><code class="language-csharp">[XmlType(Namespace = &quot;myxmlNamespace&quot;, TypeName = &quot;SerializedTypeName&quot;)] [XmlRoot(ElementName = &quot;rootName&quot;)] public class ClassToSerialize { [XmlAttribute(AttributeName = &quot;attribute&quot;)] public string MyAttribute { get; set; } //This value will be ignored [XmlIgnore] public int Ignored { get; set; } [XmlElement(ElementName = &quot;subElement&quot;)] public SubClass SubClass { get; set; } [XmlArray(ElementName = &quot;array&quot;)] [XmlArrayItem(ElementName = &quot;item1&quot;, Type = typeof(Item1))] [XmlArrayItem(ElementName = &quot;item2&quot;, Type = typeof(Item2))] public BaseItem[] Array { get; set; } } //An enum with custom values public enum TestEnum { [XmlEnum(Name = &quot;FirstValue&quot;)] First, [XmlEnum(Name = &quot;SecondValue&quot;)] Second } //A sub class, that is part of the root class that needs to be serialized //NOTE: Complex types, like this, needs to be serialized as XML elements //It is not possible to serialize these as attributes public class SubClass { [XmlText] public string Text { get; set; } } //An abstract class, that will be used in an array public abstract class BaseItem { [XmlAttribute(AttributeName = &quot;BaseString&quot;)] public string Value { get; set; } } //A derived type public class Item1 : BaseItem { [XmlAttribute(AttributeName = &quot;Item1Double&quot;)] public double DoubleValue { get; set; } } //Another derived type public class Item2 : BaseItem { [XmlAttribute(AttributeName = &quot;Item2Int&quot;)] public int IntValue { get; set; } } </code></pre> <p><strong>Note</strong>: The types that will be serialied must have <code>public</code> accessibility modifier.</p> <p><strong>Serialization code:</strong></p> <pre><code class="language-csharp">var data = new ClassToSerialize() { Ignored = 42, MyAttribute = &quot;attribute value&quot;, SubClass = new SubClass { Text = &quot;xml text&quot; }, Array = new BaseItem[] { new Item1 { Value = &quot;Item1 Value&quot;, DoubleValue = 42.42 }, new Item2 { IntValue = 1242, Value = &quot;Item2 Value&quot; } } }; XmlSerializer serializer = new XmlSerializer(typeof(ClassToSerialize), &quot;namespaceName&quot;); using (var stream = File.Create(&quot;testfile.xml&quot;)) { serializer.Serialize(stream, data); } </code></pre> <p><strong>Result XML:</strong></p> <pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;rootName xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; attribute=&quot;attribute value&quot; xmlns=&quot;namespaceName&quot;&gt; &lt;subElement xmlns=&quot;myxmlNamespace&quot;&gt;xml text&lt;/subElement&gt; &lt;array xmlns=&quot;myxmlNamespace&quot;&gt; &lt;item1 BaseString=&quot;Item1 Value&quot; Item1Double=&quot;42.42&quot; /&gt; &lt;item2 BaseString=&quot;Item2 Value&quot; Item2Int=&quot;1242&quot; /&gt; &lt;/array&gt; &lt;/rootName&gt; </code></pre> <h2>JSON Serialization</h2> <p>The <code>System.Text.Json</code> serializer was introduced in .NET Core 3.0 as a NuGet package and it's inlcuded in .NET 5 and later releases by default. It's designed to be an efficient replacement for <code>Newtonsoft.Json</code>.</p> <p>Basic usage:</p> <pre><code class="language-csharp">public class Person { public string Name { get; init; } public int Age { get; init; } } var person = new Person { Name = &quot;test&quot;, Age = 30, } string jsonString = JsonSerializer.Serialize(person); //deserialization: Person deserializedPerson = JsonSerializer.Deserialize&lt;Person&gt;(jsonString); </code></pre> <h3>JSON Serializer options</h3> <p>Serialization and de serialization options can be controlled via the <code>JsonSerializerOptions</code> class. Important properties:</p> <ul> <li><p><code>bool AllowTrailingCommas</code>:</p> <p>Get or sets a value that indicates whether an extra comma at the end of a list of JSON values in an object or array is allowed (and ignored) within the JSON payload being de-serialized.</p> </li> <li><p><code>bool WriteIndented</code>:</p> <p>Gets or sets a value that indicates whether JSON should use pretty printing. By default, JSON is serialized without any extra white space.</p> </li> <li><p><code>bool PropertyNameCaseInsensitive</code>:</p> <p>Gets or sets a value that indicates whether a property's name uses a case-insensitive comparison during deserialization. The default value is false.</p> </li> <li><p><code>JsonNamingPolicy? PropertyNamingPolicy</code>:</p> <p>Gets or sets a value that specifies the policy used to convert a property's name on an object to another format, such as camel-casing, or null to leave property names unchanged.</p> <p>Possible built-in values, that can be set:</p> <ul> <li><code>JsonNamingPolicy.CamelCase</code> - <code>propertyName</code></li> <li><code>JsonNamingPolicy.KebabCaseLower</code> - <code>property-name</code></li> <li><code>JsonNamingPolicy.KebabCaseUpper</code> - <code>PROPERTY-NAME</code></li> <li><code>JsonNamingPolicy.SnakeCaseLower</code> - <code>property_name</code></li> <li><code>JsonNamingPolicy.SnakeCaseUpper</code> - <code>PROPERTY_NAME</code></li> </ul> <p>Custom values can be set, by implementing the <code>JsonNamingPolicy</code> class.</p> </li> <li><p><code>bool IncludeFields</code>:</p> <p>Gets or sets a value that indicates whether fields are handled during serialization and de-serialization. The default value is false.</p> </li> <li><p><code>bool IgnoreReadOnlyProperties</code>:</p> <p>Gets or sets a value that indicates whether null values are ignored during serialization and de-serialization. The default value is false.</p> </li> <li><p><code>JsonCommentHandling ReadCommentHandling</code>:</p> <p>Gets or sets a value that defines how comments are handled during de-serialization.</p> <p>Possible values:</p> <ul> <li><p><code>JsonCommentHandling.Disallow</code></p> <p>Doesn't allow comments within the JSON input. Comments are treated as invalid JSON if found, and a <code>System.Text.Json.JsonException</code> is thrown. This is the default value.</p> </li> <li><p><code>JsonCommentHandling.Skip</code></p> <p>Allows comments within the JSON input and ignores them. The <code>System.Text.Json.Utf8JsonReader</code> behaves as if no comments are present.</p> </li> <li><p><code>JsonCommentHandling.Allow</code></p> <p>Allows comments within the JSON input and treats them as valid tokens. While reading, the caller can access the comment values.</p> </li> </ul> </li> <li><p><code>JsonNumberHandling NumberHandling</code>:</p> <p>Gets or sets an object that specifies how number types should be handled when serializing or de-serializing.</p> <p>Possible values:</p> <ul> <li><p><code>JsonNumberHandling.Strict</code></p> <p>Numbers will only be read from System.Text.Json.JsonTokenType.Number tokens and will only be written as JSON numbers (without quotes).</p> </li> <li><p><code>JsonNumberHandling.AllowReadingFromString</code></p> </li> </ul> <p>Numbers can be read from System.Text.Json.JsonTokenType.String tokens. Does not prevent numbers from being read from System.Text.Json.JsonTokenType.Number token.</p> <ul> <li><p><code>JsonNumberHandling.WriteAsString</code></p> <p>Numbers will be written as JSON strings (with quotes), not as JSON numbers.</p> </li> <li><p><code>JsonNumberHandling.AllowNamedFloatingPointLiterals</code></p> <p>The <code>NaN</code>, <code>Infinity</code> and <code>-Infinity</code> <code>System.Text.Json.JsonTokenType.String</code> tokens can be read as floating-point constants, and the <code>System.Single</code> and <code>System.Double</code> values for these constants will be written as their corresponding JSON string representations.</p> </li> </ul> </li> <li><p><code>JsonIgnoreCondition DefaultIgnoreCondition</code>:</p> <p>Gets or sets a value that determines when properties with default values are ignored during serialization or de-serialization. The default value is <code>JsonIgnoreCondition.Never</code>.</p> <p>Possible values:</p> <ul> <li><p><code>JsonIgnoreCondition.Never</code></p> <p>Property is always serialized and de-serialized, regardless of IgnoreNullValues configuration.</p> </li> <li><p><code>JsonIgnoreCondition.Always</code></p> <p>Property is always ignored.</p> </li> <li><p><code>JsonIgnoreCondition.WhenWritingDefault</code></p> <p>Property is ignored only if it equals the default value for its type.</p> </li> <li><p><code>JsonIgnoreCondition.WhenWritingNull</code></p> <p>Property is ignored if its value is null. This is applied only to reference-type properties and fields.</p> </li> </ul> </li> </ul> <h3>Converters</h3> <p>You can convert complex types into JSON representation, by implementing the <code>JsonConverter&lt;T&gt;</code> abstract class and then adding the converter to the <code>Converters</code> collection of your <code>JsonSerializerOptions</code> instance.</p> <p>An example converter:</p> <pre><code class="language-csharp">public class CultureInfoConverter : JsonConverter&lt;CultureInfo&gt; { public override CultureInfo? Read(ref Utf8JsonReader reader, Type typeToConvert, JsonSerializerOptions options) { return new CultureInfo(reader.GetString()!); } public override void Write(Utf8JsonWriter writer, CultureInfo value, JsonSerializerOptions options) { writer.WriteStringValue(value.Name); } } </code></pre> </div>
<div title="Object validation" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/114-validation.html"><h1>Object validation</h1> <p>The <code>Validator</code> class is commonly used for validating data annotations on objects. Validation attributes are defined in the <code>System.ComponentModel.DataAnnotations</code> namespace. To validate an object, first it must be annotated:</p> <pre><code class="language-csharp">public class Person { [Required(ErrorMessage = &quot;Name is required.&quot;)] [StringLength(100, ErrorMessage = &quot;Name cannot be longer than 100 characters.&quot;)] public string Name { get; set; } [Range(1, 120, ErrorMessage = &quot;Age must be between 1 and 120.&quot;)] public int Age { get; set; } [EmailAddress(ErrorMessage = &quot;Invalid Email Address.&quot;)] public string Email { get; set; } } </code></pre> <p>Validation code:</p> <pre><code class="language-csharp">//person instance with invalid data var person = new Person { Name = null, //Invalid: Required Age = 150, //Invalid: Out of Range Email = &quot;invalid-email&quot; //Invalid: Not an email format }; // Create a list to hold validation results var validationResults = new List&lt;ValidationResult&gt;(); // Validate the object var validationContext = new ValidationContext(person, null, null); bool isValid = Validator.TryValidateObject(person, validationContext, validationResults, true); // Output the validation results if (!isValid) { Console.WriteLine(&quot;Validation failed for the following reasons:&quot;); foreach (var validationResult in validationResults) { Console.WriteLine($&quot;- {validationResult.ErrorMessage}&quot;); } } else { Console.WriteLine(&quot;Validation succeeded.&quot;); } </code></pre> <h2>Defining a custom validation attribute</h2> <p>You can create a custom attribute by deriving from <code>ValidationAttribute</code> class:</p> <pre><code class="language-csharp"> public class FutureDateAttribute : ValidationAttribute { public FutureDateAttribute() { ErrorMessage = &quot;The date must be in the future.&quot;; } protected override ValidationResult IsValid(object value, ValidationContext validationContext) { if (value == null) { return new ValidationResult(ErrorMessage); } DateTime dateValue; if (DateTime.TryParse(value.ToString(), out dateValue)) { if (dateValue &gt; DateTime.Now) { return ValidationResult.Success; } } return new ValidationResult(ErrorMessage); } } </code></pre> </div>
<div title="Cryptography" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/120-crypto.html"><h1>Cryptography</h1> <h2>Encryption Algortithms</h2> <p>^^^ <img src="img/cryptography1.svg" alt="Encryption Algortithms" /> ^^^ Encryption Algortithms</p> <p><strong>Symmetric encryption</strong></p> <p>Symmetric encryption is a cryptographic method where the same key is used for both encryption and decryption of data. In other words, the sender and the recipient use a shared secret key to encrypt and decrypt messages. It is commonly used in various applications, including securing data transmission over networks, encrypting files stored on disk, and protecting sensitive information in databases.</p> <p><strong>Asymmetric encryption</strong></p> <p>Asymmetric encryption, also known as public-key cryptography, is a cryptographic method that uses two separate keys for encryption and decryption. A public, and a private key. The pair of keys are mathematically related, but distinct. It is widely used in various applications, including secure Communication, digital signatures and key exchange.</p> <h2>Hash Algorithms</h2> <p>^^^ <img src="img/cryptography2.svg" alt="Hash Algorithms" /> ^^^ Hash Algorithms</p> <p><strong>Hash Algorithms</strong></p> <p>A hash algorithm, also known as a cryptographic hash function, is a mathematical algorithm that takes an input (or &quot;message&quot;) and produces a fixed-size string of bytes, which are typically represented as a hexadecimal number or it is base64 encoded.</p> <p>Hash algorithms have several important properties: They are deterministic. For a given input, the hash algorithm always produces the same output and given a hash value, it should be computationally infeasible to determine the original input.</p> <p>A cryptographic hash function is resilient to collision. It should be extremely unlikely for two different inputs to produce the same hash value. This property is crucial for ensuring the integrity of data. Even a small change in the input should result in a significantly different hash value.</p> <p>Hash algorithms are widely used in cryptography for various purposes, including data integrity checks, digital signatures and password storage.</p> <p>It's worth noting that while MD5 and SHA-1 were once widely used, they are now considered vulnerable to various attacks, and it's generally recommended to use stronger hash functions such as SHA-256 or SHA-3 for cryptographic purposes.</p> <p><strong>HMAC</strong></p> <p>Hash-based Message Authentication Code (HMAG), is a mechanism for generating a cryptographic hash of data in combination with a secret key. It provides a way to verify both the integrity and authenticity of a message.</p> <p>HMAC takes two inputs - the message to be authenticated and a secret key known only to the sender and the receiver. It uses a cryptographic hash function (such as MD5, SHA-1, SHA-256) to process the message. The secret key is mixed with the message in a specific way, usually by XOR operations and padding, to create a unique digest. The mixed data is then hashed using the chosen hash function and the output of the hash function is the HMAC.</p> <p>The recipient, who knows the secret key, can generate the HMAC using the received message and compare it to the transmitted HMAC. If they match, it indicates that the message has not been tampered with during transmission and that it was sent by someone with knowledge of the secret key.</p> </div>
<div title="Reflection" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/130-reflection.html"><h1>Reflection</h1> <h2>Get all types that implement a given interface</h2> <pre><code class="language-csharp">public static IEnumerable&lt;Type&gt; GetTypesThatImplement&lt;TInterface&gt;(Assembly assembly, bool includeAbstract = false) where TInterface : class { var types = assembly.GetTypes() .Where(t =&gt; t.IsAssignableTo(typeof(TInterface)) &amp;&amp; !t.IsInterface); if (!includeAbstract) types = types.Where(t =&gt; !t.IsAbstract); return types; } </code></pre> <h2>Get assembly version</h2> <pre><code class="language-csharp">public static Version GetCurrentAssemblyVersion() { return System.Reflection.Assembly.GetExecutingAssembly() .GetName() .Version ?? new Version(0, 0, 0, 0); } </code></pre> <h2>Check if a type is a record class</h2> <pre><code class="language-csharp">public static bool IsRecordType(Type type) { if (!type.IsClass) return false; var searchFlags = System.Reflection.BindingFlags.Instance | System.Reflection.BindingFlags.Public | System.Reflection.BindingFlags.NonPublic; return type.GetProperty(&quot;EqualityContract&quot;, searchFlags) != null &amp;&amp; type.GetMethod(&quot;&lt;Clone&gt;$&quot;, searchFlags) != null; } </code></pre> <h2>Check if a type is a ref struct</h2> <pre><code class="language-csharp">public static bool IsRefStruct(Type type) { return type.IsByRefLike; } </code></pre> <h2>Create an instance of a type with optional property initializers</h2> <p><strong>Notes</strong></p> <ol> <li>This method will fail with an exception if, the <code>type</code> has no parameterless constructor</li> <li>Reflection doesn't enforce that properties marked with the <code>required</code> keyword have to have a value set. If you don't set these values, then they can be <code>null</code></li> <li>This method doesn't check property and value types. If you provide a wrong type of value in the <code>propertyInitializers</code>, then the method will fail with an exception.</li> </ol> <pre><code class="language-csharp">public static T CreateInstance&lt;T&gt;(Type type, Dictionary&lt;string, object&gt;? propertyInitializers = null) where T: class { if (typeof(T) != type) throw new ArgumentException(&quot;Type mismatch&quot;); T? instance = Activator.CreateInstance(type) as T ?? throw new InvalidOperationException(&quot;Failed to create instance&quot;); var searchFlags = System.Reflection.BindingFlags.Instance | System.Reflection.BindingFlags.Public | System.Reflection.BindingFlags.NonPublic; if (propertyInitializers != null) { foreach (var propery in propertyInitializers) { var propertyInfo = type.GetProperty(propery.Key, searchFlags) ?? throw new ArgumentException($&quot;Property {propery.Key} not found&quot;); propertyInfo.SetValue(instance, propery.Value); } } return instance; } </code></pre> </div>
<div title="UI" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/140-ui.html"><h1>UI</h1> <ul> <li><p><strong>Windows Forms</strong></p> <p>Windows Forms is a UI framework for building Windows desktop apps. It provides one of the most productive ways to create desktop apps based on the visual designer provided in Visual Studio. Functionality such as drag-and-drop placement of visual controls makes it easy to build desktop apps.</p> </li> <li><p><strong>WPF</strong></p> <p>Windows Presentation Foundation (WPF) is a UI framework that is resolution-independent and uses a vector-based rendering engine, built to take advantage of modern graphics hardware. WPF provides a comprehensive set of application-development features that include Extensible Application Markup Language (XAML), controls, data binding, layout, 2D and 3D graphics, animation, styles, templates, documents, media, text, and typography. WPF is part of .NET, so you can build applications that incorporate other elements of the .NET API.</p> </li> <li><p><strong>MAUI</strong></p> <p>.NET Multi-platform App UI (.NET MAUI) is a cross-platform framework for creating native mobile and desktop apps with C# and XAML. Using .NET MAUI, you can develop apps that can run on Android, iOS, macOS, and Windows from a single shared code-base.</p> </li> </ul> <h2>MVVM</h2> <p>The MVVM pattern helps cleanly separate an application's business and presentation logic from its user interface (UI). Maintaining a clean separation between application logic and the UI helps address numerous development issues and makes an application easier to test, maintain, and evolve. It can also significantly improve code re-use opportunities and allows developers and UI designers to collaborate more easily when developing their respective parts of an app.</p> <p>Frameworks:</p> <ul> <li>CommunityToolkit.Mvvm - https://learn.microsoft.com/en-us/dotnet/communitytoolkit/mvvm/</li> <li>ReactiveUI - https://www.reactiveui.net/</li> <li>Prism Libary - https://prismlibrary.com/</li> </ul> <p>^^^ <img src="img/mvvm.svg" alt="MVVM Data flow" /> ^^^ MVVM Data flow</p> <h3>Minimal MVVM Implementation</h3> <pre><code class="language-csharp">public abstract class ViewModelBase : INotifyPropertyChanged { public event PropertyChangedEventHandler? PropertyChanged; protected void OnPropertyChanged(string propertyName = &quot;&quot;) =&gt; PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName)); protected void SetValue&lt;T&gt;(ref T field, T newValue, [CallerMemberName] string properyName = &quot;&quot;) { if (!EqualityComparer&lt;T&gt;.Default.Equals(field, newValue)) { field = newValue; OnPropertyChanged(properyName); } } protected void SetValue&lt;T&gt;(ref T field, T newValue, IEqualityComparer&lt;T&gt; comparer, [CallerMemberName] string properyName = &quot;&quot;) { if (!comparer.Equals(field, newValue)) { field = newValue; OnPropertyChanged(properyName); } } } </code></pre> <pre><code class="language-csharp">public class RelayCommand : ICommand { private readonly Action&lt;object?&gt; _acton; private readonly Predicate&lt;object?&gt;? _canExecute; public event EventHandler? CanExecuteChanged; public RelayCommand(Action&lt;object?&gt; acton, Predicate&lt;object?&gt;? canExecute = null) { _acton = acton; _canExecute = canExecute; } public void RaiseCanExecuteChanged() =&gt; CanExecuteChanged?.Invoke(this, EventArgs.Empty); public bool CanExecute(object? parameter) =&gt; _canExecute == null || _canExecute(parameter); public void Execute(object? parameter) =&gt; _acton.Invoke(parameter); } </code></pre> <h2>WPF class hierarchy</h2> <p><img src="img/wpf-01.svg" alt="WPF Core Objects" /></p> <ul> <li><p><strong>DispatcherObject</strong></p> <p>Represents an object that is associated with a Dispatcher. The Dispatcher Provides services for managing the queue of work items for a thread.</p> </li> <li><p><strong>DependencyObject</strong></p> <p>Represents an object that participates in the dependency property system.</p> </li> <li><p><strong>Visual</strong></p> <p>Provides rendering support in WPF, which includes hit testing, coordinate transformation, and bounding box calculations.</p> </li> <li><p><strong>UIElement</strong></p> <p>UIElement is a base class for WPF core level implementations building on Windows Presentation Foundation (WPF) elements and basic presentation characteristics.</p> </li> <li><p><strong>FrameworkElement</strong></p> <p>Provides a WPF framework-level set of properties, events, and methods for Windows Presentation Foundation (WPF) elements. This class represents the provided WPF framework-level implementation that is built on the WPF core-level APIs that are defined by UIElement.</p> </li> <li><p><strong>Control</strong></p> <p>Represents the base class for user interface (UI) elements that use a ControlTemplate to define their appearance.</p> </li> <li><p><strong>Freezable</strong></p> <p>Defines an object that has a modifiable state and a read-only (frozen) state. Classes that derive from Freezable provide detailed change notification, can be made immutable, and can clone themselves.</p> </li> <li><p><strong>Animatable</strong></p> <p>Abstract class that provides animation support.</p> </li> <li><p><strong>Visual3D</strong></p> <p>Provides services and properties that are common to visual 3-D objects, including hit-testing, coordinate transformation, and bounding box calculations.</p> </li> </ul> <p><img src="img/wpf-02.svg" alt="Template derivatives" /></p> <ul> <li><p><strong>ControlTemplate</strong></p> <p>Specifies the visual structure and behavioral aspects of a Control that can be shared across multiple instances of the control.</p> </li> <li><p><strong>ItemsPanelTemplate</strong></p> <p>Specifies the panel that the ItemsPresenter creates for the layout of the items of an ItemsControl.</p> </li> <li><p><strong>DataTemplate</strong></p> <p>Describes the visual structure of a data object.</p> </li> <li><p><strong>ItemContainerTemplate</strong></p> <p>Provides the template for producing a container for an ItemsControl object.</p> </li> <li><p><strong>HierarchicalDataTemplate</strong></p> <p>Represents a DataTemplate that supports HeaderedItemsControl, such as TreeViewItem or MenuItem.</p> </li> </ul> <p><img src="img/wpf-03.svg" alt="Animatable derivatives" /></p> <hr class="pagebreak"> <ul> <li><p><strong>Brush</strong></p> <p>Defines objects used to fill the interiors of graphical shapes such as rectangles, ellipses, pies, polygons, and paths.</p> </li> <li><p><strong>Drawing</strong></p> <p>Abstract class that describes a 2-D drawing. This class cannot be inherited by your code.</p> </li> <li><p><strong>ImageSource</strong></p> <p>Represents an object type that has a width, height, and ImageMetadata such as a BitmapSource and a DrawingImage. This is an abstract class.</p> </li> <li><p><strong>BitmapSource</strong></p> <p>Represents a single, constant set of pixels at a certain size and resolution.</p> </li> <li><p><strong>Transform</strong></p> <p>Defines functionality that enables transformations in a 2-D plane. Transformations include rotation (RotateTransform), scale (ScaleTransform), skew (SkewTransform), and translation (TranslateTransform). This class hierarchy differs from the Matrix structure because it is a class and it supports animation and enumeration semantics.</p> </li> <li><p><strong>Material</strong></p> <p>Abstract base class for materials. Materials provide texture to 3-D geometries. Combined with a light source, a material makes a 3-D surface visible in the scene.</p> </li> <li><p><strong>Model3D</strong></p> <p>Provides functionality for 3-D models. Use the ModelVisual3D class to render Model3D objects. You can compose Model3D objects by using a Model3DGroup to form a single model. You can share Model3D objects among ModelVisual3D objects to make multiple instances in a scene.</p> </li> <li><p><strong>Geometry3D</strong></p> <p>Classes that derive from this abstract base class define 3D geometric shapes. The Geometry3D class of objects can be used for hit-testing and rendering 3D graphic data.</p> </li> </ul> <p><img src="img/wpf-04.svg" alt="FrameworkElement derivatives" /></p> <ul> <li><p><strong>Decorator</strong></p> <p>Provides a base class for elements that apply effects onto or around a single child element, such as Border or Viewbox.</p> </li> <li><p><strong>Page</strong></p> <p>Encapsulates a page of content that can be navigated to and hosted by Windows Internet Explorer, NavigationWindow, and Frame.</p> </li> <li><p><strong>Panel</strong></p> <p>Provides a base class for all Panel elements. Use Panel elements to position and arrange child objects in Windows Presentation Foundation (WPF) applications.</p> </li> <li><p><strong>Shape</strong></p> <ul> <li><p><strong>Canvas</strong>: Defines an area within which you can explicitly position child elements by using coordinates that are relative to the Canvas area.</p> </li> <li><p><strong>DockPanel</strong>: Defines an area where you can arrange child elements either horizontally or vertically, relative to each other.</p> </li> <li><p><strong>Grid</strong>: Defines a flexible grid area that consists of columns and rows.</p> </li> <li><p><strong>TabPanel</strong>: Handles the layout of the TabItem objects on a TabControl.</p> </li> <li><p><strong>ToolBarOverflowPanel</strong>: Used to arrange overflow ToolBar items.</p> </li> <li><p><strong>UniformGrid</strong>: Provides a way to arrange content in a grid where all the cells in the grid have the same size.</p> </li> <li><p><strong>StackPanel</strong>: Arranges child elements into a single line that can be oriented horizontally or vertically.</p> </li> <li><p><strong>VirtualizingPanel</strong>: Provides a framework for Panel elements that virtualize their child data collection. This is an abstract class.</p> </li> <li><p><strong>WrapPanel</strong>: Positions child elements in sequential position from left to right, breaking content to the next line at the edge of the containing box. Subsequent ordering happens sequentially from top to bottom or from right to left, depending on the value of the Orientation property.</p> </li> </ul> </li> <li><p><strong>MediaElement</strong></p> <p>Represents a control that contains audio and/or video. When distributing media with your application, you cannot use a media file as a project resource. In your project file, you must instead set the media type to Content and set CopyToOutputDirectory to PreserveNewest or Always.</p> </li> <li><p><strong>HwndHost</strong></p> <p>Hosts a Win32 window as an element within Windows Presentation Foundation (WPF) content.</p> </li> <li><p><strong>ContentControl</strong></p> <p>Represents a control with a single piece of content of any type. The ContentControl can contain any type of common language runtime object (such as a string or a DateTime object) or a UIElement object (such as a Rectangle or a Panel).</p> </li> <li><p><strong>ItemsControl</strong></p> <p>Represents a control that can be used to present a collection of items. An ItemsControl is a type of Control that can contain multiple items, such as strings, objects, or other elements.</p> </li> <li><p><strong>Selector</strong></p> <p>Represents a control that allows a user to select items from among its child elements.</p> </li> <li><p><strong>RangeBase</strong></p> <p>Represents an element that has a value within a specific range.</p> </li> </ul> <p><img src="img/wpf-05.svg" alt="Control derivatives" /></p> <h2>Windows Froms class hierarchy</h2> <p><img src="img/winforms01.svg" alt="MarshalByRefObject derivatives" /></p> <ul> <li><p><strong>MarshalByRefObject</strong></p> <p>Enables access to objects across application domain boundaries in applications that support remoting.</p> </li> <li><p><strong>Component</strong></p> <p>Provides the base implementation for the IComponent interface and enables object sharing between applications. Component is the base class for all components in the common language runtime that marshal by reference. Component is remotable and derives from the MarshalByRefObject class. Component provides an implementation of the IComponent interface. The MarshalByValueComponent provides an implementation of IComponent that marshals by value.</p> </li> <li><p><strong>NativeWindow</strong></p> <p>Provides a low-level encapsulation of a window handle and a window procedure. This class automatically manages window class creation and registration. A window is not eligible for garbage collection when it is associated with a window handle. To ensure proper garbage collection, handles must either be destroyed manually using DestroyHandle or released using ReleaseHandle.</p> </li> </ul> <p><img src="img/winforms02.svg" alt="Component derivatives" /></p> <ul> <li><p><strong>BindableComponent</strong></p> <p>Base class for components that provide properties that can be data bound with the Windows Forms Designer.</p> </li> <li><p><strong>ToolStripItem</strong></p> <p>Represents the abstract base class that manages events and layout for all the elements that a ToolStrip or ToolStripDropDown can contain.</p> </li> <li><p><strong>CommonDialog</strong></p> <p>Specifies the base class used for displaying dialog boxes on the screen. Inherited classes are required to implement RunDialog by invoking ShowDialog to create a specific common dialog box. Inherited classes can optionally override HookProc to implement specific dialog box hook functionality.</p> </li> <li><p><strong>Control</strong></p> <p>Defines the base class for controls, which are components with visual representation. The Control class implements very basic functionality required by classes that display information to the user. It handles user input through the keyboard and pointing devices. It handles message routing and security. It defines the bounds of a control (its position and size), although it does not implement painting. It provides a window handle (hWnd).</p> </li> </ul> <p><img src="img/winforms03.svg" alt="Control derivatives" /></p> <ul> <li><p><strong>AxHost</strong></p> <p>Wraps ActiveX controls and exposes them as fully featured Windows Forms controls.</p> </li> <li><p><strong>MdiClient</strong></p> <p>Represents the container for multiple-document interface (MDI) child forms. This class cannot be inherited.</p> </li> <li><p><strong>ElementHost</strong></p> <p>A Windows Forms control that can be used to host a Windows Presentation Foundation (WPF) element.</p> </li> <li><p><strong>ScrollableControl</strong></p> <p>Defines a base class for controls that support auto-scrolling behavior. To enable a control to display scroll bars as needed, set the AutoScroll property to true and set the AutoScrollMinSize property to the desired size. When the control is sized smaller than the specified minimum size, or a child control is located outside the bounds of the control, the appropriate scroll bars are displayed.</p> </li> <li><p><strong>ContainerControl</strong></p> <p>Provides focus-management functionality for controls that can function as a container for other controls. The container control can capture the TAB key press and move focus to the next control in the collection.</p> </li> <li><p><strong>Panel</strong></p> <p>Used to group collections of controls. You can use a Panel to group collections of controls such as a group of RadioButton controls. As with other container controls such as the GroupBox control, if the Panel control's Enabled property is set to false, the controls contained within the Panel will also be disabled.</p> </li> <li><p><strong>ThreadExceptionDialog</strong></p> <p>Implements a dialog box that is displayed when an unhandled exception occurs in a thread. <strong>This API supports the product infrastructure and is not intended to be used directly from your code.</strong></p> </li> <li><p><strong>UserControl</strong></p> <p>The UserControl gives you the ability to create controls that can be used in multiple places within an application or organization. You can include all the code needed for validation of common data you ask the user to input.</p> </li> </ul> <p><img src="img/winforms04.svg" alt="Control derivatives" /></p> <h2>MAUI class hierarchy</h2> <p><img src="img/maui01.svg" alt="MAUI 1" /></p> <p><img src="img/maui02.svg" alt="MAUI 2" /></p> <p><img src="img/maui03.svg" alt="MAUI 3" /></p> </div>
<div title="Useful NuGet packages" data-link="https://webmaster442.github.io/ultimatedotnetcheatsheet/150-nuget.html"><h1>Useful NuGet packages</h1> <ul> <li><p><strong>AngleSharp</strong></p> <p>AngleSharp is a .NET library that gives you the ability to parse angle bracket based hyper-texts like HTML, SVG, and MathML. XML without validation is also supported by the library. An important aspect of AngleSharp is that CSS can also be parsed. The included parser is built upon the official W3C specification. This produces a perfectly portable HTML5 DOM representation of the given source code and ensures compatibility with results in evergreen browsers.</p> <p>Website: https://anglesharp.github.io/ Install with: <code>dotnet add package AngleSharp</code></p> </li> <li><p><strong>Bouncy Castle</strong></p> <p>The Bouncy Castle project offers open-source APIs for Java, C# and Kotlin that support cryptography and cryptographic protocols. They cover many security areas, such as public key infrastructure, digital signatures, authentication, and secure communication. Additionally, FIPS certified versions are available for both Java and C#.</p> <p>Website: https://www.bouncycastle.org Install with: <code>dotnet add package BouncyCastle.Cryptography</code></p> </li> <li><p><strong>ClearScript</strong></p> <p>ClearScript is a library that makes it easy to add scripting to your .NET applications. It currently supports JavaScript (via V8 and JScript) and VBScript.</p> <p>Website: https://anglesharp.github.io/ Install with: <code>dotnet add package Microsoft.ClearScript.Complete</code></p> </li> <li><p><strong>CliWrap</strong></p> <p>CliWrap is a library for interacting with external command-line interfaces. It provides a convenient model for launching processes, redirecting input and output streams, awaiting completion, handling cancellation, and more.</p> <p>Website: https://github.com/Tyrrrz/CliWrap Install with: <code>dotnet add package CliWrap</code></p> </li> <li><p><strong>CsWin32</strong></p> <p>A source generator to add a user-defined set of Win32 P/Invoke methods and supporting types to a C# project.</p> <p>Website: https://github.com/microsoft/CsWin32 Install with: <code>dotnet add package Microsoft.Windows.CsWin32</code></p> </li> <li><p><strong>Humanizer</strong></p> <p>Humanizer meets all your .NET needs for manipulating and displaying strings, enums, dates, times, timespans, numbers and quantities.</p> <p>Website: https://github.com/Humanizr/Humanizer Install with: <code>dotnet add package Humanizer</code></p> </li> <li><p><strong>LiteDB</strong></p> <p>LiteDB is a small, fast and lightweight .NET NoSQL embedded database.</p> <p>Website: https://github.com/mbdavid/LiteDB Install with: <code>dotnet add package LiteDB</code></p> </li> <li><p><strong>Markdig</strong></p> <p>Markdig is a fast, powerful, CommonMark compliant, extensible Markdown processor for .NET.</p> <p>website: https://github.com/xoofx/markdig Install with: <code>dotnet add package Markdig</code></p> </li> <li><p><strong>NSubstitute</strong></p> <p>A friendly substitute for .NET mocking libraries. Perfect for those new to testing, and for others who would just like to to get their tests written with less noise and fewer lambdas.</p> <p>Website: https://nsubstitute.github.io/ Install with: <code>dotnet add package NSubstitute</code></p> </li> <li><p><strong>NUnit</strong></p> <p>NUnit is a unit-testing framework for all .Net languages. Initially ported from JUnit, the current production release, version 3, has been completely rewritten with many new features and support for a wide range of .NET platforms.</p> <p>Website: https://nunit.org/ Install with: <code>dotnet add package NUnit</code></p> </li> <li><p><strong>OxyPlot</strong></p> <p>OxyPlot is a cross-platform plotting library for .NET. OxyPlot contains many different types of axes and series. The plots can be exported to file formats like png, pdf and svg.</p> <p>Website: https://oxyplot.github.io/ Install with: <code>dotnet add package OxyPlot.Core</code></p> </li> <li><p><strong>SkiaSharp</strong></p> <p>SkiaSharp is a cross-platform 2D graphics API for .NET platforms based on Google's Skia Graphics Library (skia.org). It provides a comprehensive 2D API that can be used across mobile, server and desktop models to render images.</p> <p>Website: https://github.com/mono/SkiaSharp Install with: <code>dotnet add package SkiaSharp</code></p> </li> <li><p><strong>Spectre.Console</strong></p> <p>Spectre.Console is a .NET library that makes it easier to create beautiful console applications.</p> <p>Website: https://spectreconsole.net/ Install with: <code>dotnet add package Spectre.Console</code></p> </li> <li><p><strong>Units.NET</strong></p> <p>Add strongly typed quantities to your code and get merrily on with your life. No more magic constants found on Stack Overflow, no more second-guessing the unit of parameters and variables.</p> <p>Website: https://github.com/angularsen/UnitsNet Install with: <code>dotnet add package UnitsNet</code></p> </li> <li><p><strong>xUnit.net</strong></p> <p>xUnit.net is a free, open source, community-focused unit testing tool for the .NET Framework. Written by the original inventor of NUnit v2, xUnit.net is the latest technology for unit testing C#, F#, VB.NET and other .NET languages. xUnit.net works with ReSharper, CodeRush, TestDriven.NET and Xamarin. It is part of the .NET Foundation, and operates under their code of conduct. It is licensed under Apache 2 (an OSI approved license).</p> <p>Website: https://xunit.net/ Install with: <code>dotnet add package xunit</code></p> </li> </ul> <h2>Awesome .NET!</h2> <p>Awesome .NET is a collection of awesome .NET libraries, tools, frameworks, and software. Inspired by awesome-ruby, awesome-php, awesome-python, frontend-dev-bookmarks and ruby-bookmarks.</p> <p>https://github.com/quozd/awesome-dotnet/blob/master/README.md</p> </div>
</div><div class="jumbotron">
    <h2>{{Search_PageTitle}}</h2>
    <div class="form-group">
        <input type="text" id="searchtext" autocomplete="off" class="form-control"
            placeholder="<!--{? Search_TextBoxText}-->">
        <br />
        <button type="button" id="searchbutton" class="btn btn-primary">{{Search_ButtonText}}</button>
    </div>
</div>
<div id="searchresults"></div>
<script type="text/javascript">
    $('#searchtext').keypress(function (ev) {
        var keycode = (ev.keyCode ? ev.keyCode : ev.which);
        if (keycode == '13') {
            $("#searchbutton").click();
        }
    });

    $("#searchbutton").click(function () {

        var html = "";
        var matches = 0;
        var terms = $("#searchtext").val();
        $("#searchresults").html("");

        if (terms === "") {
            var error = "[[4]]";
            $("#searchresults").html(error);
            return;
        }

        $("#searchcontents div").each(function () {
            var startindex = $(this).text().toLowerCase().indexOf(terms.toLowerCase());
            if (startindex < 0) return;

            var title = $(this).attr("title");
            var url = $(this).attr("data-link");
            var len = $(this).text().length - startindex;
            if (len > 180) {
                len = 180;
            }

            matches += 1;

            var link = "<h3><a href=\"" + url + "\">" + title + "</a></h3>";
            var content = "<p>" + $(this).text().substr(startindex, len) + "...</p>";

            html += link;
            html += content;
        });

        var final = "<p>{Search_Results} : " + matches + "</p>" + html;

        if (html.length > 0) {
            $("#searchresults").html(final);
        }
        else {
            var error = "{Search_NoResults}";
            $("#searchresults").html(error);
        }
    });
</script>
            </div>
            <div class="col-xl-2">
                <div class="card" id="pagenav">
                    <h4 class="card-title">On this page</h4>
                </div>
            </div>
        </div>

    </div>

    <div class="dropdown position-fixed bottom-0 end-0 mb-3 me-3 bd-mode-toggle">
        <button class="btn btn-bd-primary py-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button"
            aria-expanded="false" data-bs-toggle="dropdown" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active" width="1em" height="1em">
                <use href="#circle-half"></use>
            </svg>
            <span class="visually-hidden" id="bd-theme-text">Toggle theme</span>
        </button>
        <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="bd-theme-text">
            <li>
                <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light"
                    aria-pressed="false">
                    <svg class="bi me-2 opacity-50" width="1em" height="1em">
                        <use href="#sun-fill"></use>
                    </svg>
                    Light
                    <svg class="bi ms-auto d-none" width="1em" height="1em">
                        <use href="#check2"></use>
                    </svg>
                </button>
            </li>
            <li>
                <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark"
                    aria-pressed="false">
                    <svg class="bi me-2 opacity-50" width="1em" height="1em">
                        <use href="#moon-stars-fill"></use>
                    </svg>
                    Dark
                    <svg class="bi ms-auto d-none" width="1em" height="1em">
                        <use href="#check2"></use>
                    </svg>
                </button>
            </li>
            <li>
                <button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto"
                    aria-pressed="true">
                    <svg class="bi me-2 opacity-50" width="1em" height="1em">
                        <use href="#circle-half"></use>
                    </svg>
                    Auto
                    <svg class="bi ms-auto d-none" width="1em" height="1em">
                        <use href="#check2"></use>
                    </svg>
                </button>
            </li>
        </ul>
    </div>

    <button id="navigate-top" onclick="scrollToTop()" type="button" title="Scroll to top">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" />
        </svg>
    </button>

    <script src="bootstrap.bundle.min.js" type="text/javascript"></script>

</body>

</html>
